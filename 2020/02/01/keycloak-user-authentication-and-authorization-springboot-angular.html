<!DOCTYPE html>
<html lang="pl">
<script src="/js/lunr.min.js"></script><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Keycloak - user authentication and authorization in Angular/Spring Boot application | Consdata - blog techniczny</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Keycloak - user authentication and authorization in Angular/Spring Boot application" />
<meta name="author" content="mhoja" />
<meta property="og:locale" content="en" />
<meta name="description" content="Keycloak - user authentication and authorization in Angular/Spring Boot application" />
<meta property="og:description" content="Keycloak - user authentication and authorization in Angular/Spring Boot application" />
<link rel="canonical" href="https://blog.consdata.tech/2020/02/01/keycloak-user-authentication-and-authorization-springboot-angular.html" />
<meta property="og:url" content="https://blog.consdata.tech/2020/02/01/keycloak-user-authentication-and-authorization-springboot-angular.html" />
<meta property="og:site_name" content="Consdata - blog techniczny" />
<meta property="og:image" content="https://blog.consdata.tech/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/thumbnail.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-01T01:00:00-06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://blog.consdata.tech/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/thumbnail.webp" />
<meta property="twitter:title" content="Keycloak - user authentication and authorization in Angular/Spring Boot application" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"mhoja"},"image":"https://blog.consdata.tech/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/thumbnail.webp","@type":"BlogPosting","headline":"Keycloak - user authentication and authorization in Angular/Spring Boot application","description":"Keycloak - user authentication and authorization in Angular/Spring Boot application","dateModified":"2020-02-01T01:00:00-06:00","datePublished":"2020-02-01T01:00:00-06:00","url":"https://blog.consdata.tech/2020/02/01/keycloak-user-authentication-and-authorization-springboot-angular.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.consdata.tech/2020/02/01/keycloak-user-authentication-and-authorization-springboot-angular.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700,600,500,300,200,100,800,900" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,600,500,300,200,100,800,900" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;400;500;700&display=swap" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.consdata.tech/feed.xml" title="Consdata - blog techniczny" /><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NFV6DPR');</script>

    
    
    
      
        <link rel="alternate" hreflang="en" href="/2020/02/01/keycloak-user-authentication-and-authorization-springboot-angular.html"/>
      
        <link rel="alternate" hreflang="pl" href="/2020/02/01/keycloak-user-authentication-authorization-springboot-angular.html"/>
      
    
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body><nav class="site-header">
    <div class="container">
        <div class="header navbar-default" role="navigation">
            <div class="header-brand">
                <a class="header-logo" href="/">
                    <img src="/assets/img/logo.png" alt="consdata.com">
                </a>
                <div class="mobile-search">
                    
<form action="/search.html" method="get">

    <div class="search-input-container">
        <input type="text" placeholder="Znajdź artykuł..." id="search-box-mobile" name="query" class="search-input" autocomplete="off">
        <i class="fa fa-search search-icon" onclick="expandInputMobile()"></i>
    </div>
</form>

<script>
    const inputMobile = document.getElementById("search-box-mobile");
    const logo = document.getElementById("header-logo");
    const expandInputMobile = () => {
        inputMobile.classList.toggle("expanded");
        logo.classList.toggle("header-logo");
        logo.classList.toggle("logo-invisible");
    };
</script>

                </div>
            </div>
            <div id="header-links">
                <div>
                    <a class="nav-link" href="/">Blog techniczny</a>
                    <a class="nav-link" href="https://consdata.com/pl/blog/biznesowy">Blog biznesowy</a>
                    <a class="nav-link" href="https://consdata.com/pl/blog/hr">Dział HR</a>
                </div>
                
                <a class="language-switch" onclick="navigate('/en/2020/02/01/keycloak-user-authentication-and-authorization-springboot-angular.html')">EN</a>
                
            </div>

        </div>
    </div>
</nav>
<script>
    function navigate(baseUrl) {
        const queryParams = window.location.search;
        window.location.href = baseUrl + queryParams;
    }
</script>
<main class="page-content" aria-label="Content">
    


<div class="blog">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-content-sidebar">
            <div class="post-content">
                <div class="badge">angular</div>
                <h1 class="post-big-title p-name" itemprop="name headline">Keycloak - user authentication and authorization in Angular/Spring Boot application</h1>
                <div class="post-metadata">
    <div>
    <a class="author" href="/authors/mhoja.html">
        <img class="author-image" src="/assets/img/authors/mhoja.webp" alt="author">
        <span class="author-name">Michał Hoja</span><a class="author" href="https://github.com/Michuu93">
            <img class="github-icon" src="/assets/icon/github.svg">
        </a>
        
    </a>
</div>

    <div class="metadata">
        
        <span class="publish-date">
1

lutego



2020
</span>
    </div>
</div>

                <div itemprop="articleBody" class="post-content-container">
                    <div class="post-content-left-pane">
                        <div class="post-content">
                            <p>Keycloak - user authentication and authorization in Angular/Spring Boot application</p>

<p>In this article I will demonstrate using a Keycloak server to log into an application on the example of a ready-made project which enables logging in from the browser level.</p>

<h2 id="what-is-keycloak">What is Keycloak?</h2>

<p>Keycloak is an open source authentication and authorization server. It can connect to the LDAP/AD or authenticate users via Google, Facebook, etc. It also features an admin console where you can easily configure user permissions and other parameters.</p>

<p>Find out more at <a href="https://www.keycloak.org/">www.keycloak.org</a>.</p>

<h2 id="demo-project">Demo project</h2>

<p>The application is <a href="https://github.com/Michuu93/spring-angular-keycloak">available on GitHub</a>.
It consists of a back-end part written in Spring Boot (Kotlin) and a front-end application part in Angular 8.</p>

<p>For the purpose of demonstrating the implementation of user authentication with a Keycloak server, let’s secure the endpoints on the backend and the front-end part separately.</p>

<h2 id="keycloak-server">Keycloak server</h2>

<p>The Keycloak server will be run in Docker. Execute the following command in the main repo directory to run an instance of a Keycloak server on port <code class="language-plaintext highlighter-rouge">8180</code>:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">--name</span> keycloak-server <span class="nt">-p</span> 8180:8080 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">KEYCLOAK_USER</span><span class="o">=</span>admin <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">KEYCLOAK_PASSWORD</span><span class="o">=</span>admin <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">KEYCLOAK_IMPORT</span><span class="o">=</span>/realm/realm-export.json <span class="se">\</span>
  <span class="nt">-v</span> <span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>/realm/:/realm/ <span class="se">\</span>
  jboss/keycloak
</code></pre></div></div>

<p>The admin console will be available at: <a href="http://127.0.0.1:8180/auth/admin/">127.0.0.1:8180/auth/admin</a>
Log in to the admin console using the login and password defined in <code class="language-plaintext highlighter-rouge">KEYCLOAK_USER</code> and <code class="language-plaintext highlighter-rouge">KEYCLOAK_PASSWORD</code>, in this case admin:admin.</p>

<h4 id="server-configuration">Server configuration</h4>

<p>Keycloak server configuration deserves a separate article so let’s use a pre-made configuration here.
The server configuration export has been located in the demo project’s repository (realm/realm-export.json) and will be loaded at server start.</p>

<p>** The following parameters have been configured: **</p>

<ul>
  <li>realm <code class="language-plaintext highlighter-rouge">SpringBootAngular</code></li>
  <li>client <code class="language-plaintext highlighter-rouge">SpringBootAngularClient</code>
    <ul>
      <li>Access Type: <code class="language-plaintext highlighter-rouge">confidential</code> - when logging in you need to pass the secret configured in SpringBootAngularClient
        <ul>
          <li>also available are bearer-only and public options - more about that can be found in <a href="https://www.keycloak.org/docs/latest/server_admin/#oidc-clients">the  documentation</a></li>
        </ul>
      </li>
      <li>Valid Redirect URIs: <code class="language-plaintext highlighter-rouge">*</code> - no limitations for convenience</li>
      <li>Web Origins: <code class="language-plaintext highlighter-rouge">*</code> - no limitations for convenience</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">user_role</code> - only a user with this role will be able to authorize themselves in the applications</li>
  <li><code class="language-plaintext highlighter-rouge">user</code> with <code class="language-plaintext highlighter-rouge">user_role</code> (<code class="language-plaintext highlighter-rouge">user:password</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">user2</code> without <code class="language-plaintext highlighter-rouge">user_role</code> (<code class="language-plaintext highlighter-rouge">user2:password2</code>)</li>
</ul>

<h3 id="backend-application">Backend application</h3>

<p>The backend application consists of two controllers:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">MainController</code> - exposes the secured endpoints
    <ul>
      <li><code class="language-plaintext highlighter-rouge">/api/hello</code> - returns the <code class="language-plaintext highlighter-rouge">Hello from the Backend!</code> string</li>
      <li><code class="language-plaintext highlighter-rouge">/api/logout</code> - logs the user out of the backend application</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">KeycloakController</code> - exposes a public endpoint
    <ul>
      <li><code class="language-plaintext highlighter-rouge">api/keycloak/config</code> - exposes a shared configuration to the frontend</li>
    </ul>
  </li>
</ul>

<p>Frontend application</p>

<p>The frontend application consist of three components:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">PublicComponent</code> - accessible to everyone without logging in</li>
  <li><code class="language-plaintext highlighter-rouge">ProtectedComponent</code> - protected from unauthorized users</li>
  <li><code class="language-plaintext highlighter-rouge">ToolbarComponent</code> - menu with buttons for convenience</li>
</ul>

<h2 id="authentication-on-backend">Authentication on backend</h2>

<h3 id="dependencies">Dependencies</h3>

<p>The following dependencies will be used on the backend:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">org.keycloak:keycloak-adapter-cores</code></li>
  <li><code class="language-plaintext highlighter-rouge">org.keycloak:keycloak-spring-boot-2-adapter</code></li>
  <li><code class="language-plaintext highlighter-rouge">org.keycloak:keycloak-tomcat-adapter</code></li>
</ul>

<p>One dependency containing the following adapters could be used:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">org.keycloak:keycloak-spring-boot-2-starter could</code></li>
</ul>

<p>However, the latest available version, <code class="language-plaintext highlighter-rouge">4.0.0.Final</code>, uses older adapter versions. One of the changes in newer adapter versions is improved token validation. If a new version of the dependencies with improved adapters comes out in the future, it will be possible to use
it as well.</p>

<h3 id="configuration">Configuration</h3>

<p>Besides configuring the application port and adapter login level (which lets you see what exactly is going on in the logs), you need to configure keycloak-adapter-core.
Thanks to <code class="language-plaintext highlighter-rouge">keycloak-spring-boot-2-adapter</code> everything can be configured in <code class="language-plaintext highlighter-rouge">application.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">keycloakRequiredUserRole</span><span class="pi">:</span> <span class="s">user_role</span>
<span class="na">keycloak</span><span class="pi">:</span>
  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">auth-server-url</span><span class="pi">:</span> <span class="s">http://localhost:8180/auth</span>
  <span class="na">realm</span><span class="pi">:</span> <span class="s">SpringBootAngular</span>
  <span class="na">resource</span><span class="pi">:</span> <span class="s">SpringBootAngularClient</span>
  <span class="na">security-constraints</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">authRoles</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">${keycloakRequiredUserRole}</span>
      <span class="na">securityCollections</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">protected resource</span>
          <span class="na">patterns</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">/api/*</span>
    <span class="pi">-</span> <span class="na">securityCollections</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">public resource</span>
          <span class="na">patterns</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">/api/keycloak/config</span>
  <span class="na">credentials</span><span class="pi">:</span>
    <span class="na">secret</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;SECRET&gt;"</span>
  <span class="na">realm-key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">&lt;PUBLIC_KEY&gt;"</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">keycloakRequiredUserRole</code> - since only one role will be used, it will be easier to make it accessible via API (if you want to use more roles, you need to extract them from the <code class="language-plaintext highlighter-rouge">authRoles</code> list)</li>
  <li><code class="language-plaintext highlighter-rouge">keycloak.security-constraints</code> - you define endpoint limitations here</li>
</ul>

<p>You can define paths that are public:
e.g. <code class="language-plaintext highlighter-rouge">/api/keycloak/config</code>
and paths which will require permissions
e.g. <code class="language-plaintext highlighter-rouge">/api/*</code>
which will require <code class="language-plaintext highlighter-rouge">${keycloakRequiredUserRole}</code> from the user (that is <code class="language-plaintext highlighter-rouge">user_role</code>).</p>

<p>Keycloak configuration:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">keycloak.enabled</code> - allows you to easily switch off authentication;</li>
  <li><code class="language-plaintext highlighter-rouge">keycloak.auth-server-url</code> - Keycloak server address;</li>
  <li><code class="language-plaintext highlighter-rouge">keycloak.realm</code> - realm name;</li>
  <li><code class="language-plaintext highlighter-rouge">keycloak.resource</code> - name of the client configured for the given realm;</li>
  <li><code class="language-plaintext highlighter-rouge">keycloak.credentials.secret</code> - secret generated in <code class="language-plaintext highlighter-rouge">SpringBootAngularClient</code>, you can find it in admin console (<code class="language-plaintext highlighter-rouge">Clients &gt; SpringBootAngularClient &gt; Credentials &gt; Secret</code>);</li>
  <li><code class="language-plaintext highlighter-rouge">keycloak.realm-key</code> - realm’s public key, you can find it in the admin console (<code class="language-plaintext highlighter-rouge">Realm Settings &gt; Keys &gt; Active &gt; RSA &gt; Public Key</code>).</li>
</ul>

<h3 id="exposing-configuration-to-frontend">Exposing configuration to frontend</h3>

<p>Since the backend and frontend applications are secured separately, and the Keycloak configuration remains the same, the configuration can be exposed from <code class="language-plaintext highlighter-rouge">application.yml</code> via API. This way you can avoid duplicating the configuration in the frontend application.</p>

<p>Expose the configuration in <code class="language-plaintext highlighter-rouge">KeycloakController</code> at the following address: <code class="language-plaintext highlighter-rouge">api/keycloak/config</code>. It will look like that:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authServerUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8180/auth"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"realm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SpringBootAngular"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SpringBootAngularClient"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requiredUserRole"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_role"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;SECRET&gt;"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="authentication-on-the-frontend">Authentication on the frontend</h2>

<h3 id="dependencies-1">Dependencies</h3>

<p>The <code class="language-plaintext highlighter-rouge">keycloak-angular</code> library will be used on the frontend <a href="https://github.com/mauriciovigolo/keycloak-angular#readme">link</a>.</p>

<p>Add dependencies in package.json:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"keycloak-angular"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^7.0.1"</span><span class="err">,</span><span class="w">
</span><span class="nl">"keycloak-js"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^6.0.1"</span><span class="w">
</span></code></pre></div></div>

<h3 id="downloading-configuration-from-backend">Downloading configuration from backend</h3>

<p>The configuration can be downloaded by calling the backend endpoint.
The first configuration download from <code class="language-plaintext highlighter-rouge">KeycloakConfigService</code> will execute a request and the result will be saved. Subsequent downloads will return the saved configuration.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Injectable</span><span class="p">({</span><span class="na">providedIn</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">KeycloakConfigService</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">KeycloakConfig</span><span class="p">;</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="k">private</span> <span class="nx">http</span><span class="p">:</span> <span class="nx">HttpClient</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="nx">getConfig</span><span class="p">():</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">KeycloakConfig</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">of</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">configObservable</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="kd">get</span><span class="o">&lt;</span><span class="nx">KeycloakConfig</span><span class="o">&gt;</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/keycloak/config</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">configObservable</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">config</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">);</span>
            <span class="k">return</span> <span class="nx">configObservable</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="configuration-1">Configuration</h3>

<p>Use the downloaded configuration in the injection token, defining the provider for the <a href="https://angular.io/api/core/APP_INITIALIZER"><code class="language-plaintext highlighter-rouge">APP_INITIALIZER</code></a> token in <code class="language-plaintext highlighter-rouge">app.module.ts</code>:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="nl">provide</span><span class="p">:</span> <span class="nx">APP_INITIALIZER</span><span class="p">,</span>
    <span class="nx">useFactory</span><span class="p">:</span> <span class="nx">initializer</span><span class="p">,</span>
    <span class="nx">multi</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">deps</span><span class="p">:</span> <span class="p">[</span><span class="nx">KeycloakService</span><span class="p">,</span> <span class="nx">KeycloakConfigService</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Create a function using the <code class="language-plaintext highlighter-rouge">KeycloakConfigService</code> that initializes <code class="language-plaintext highlighter-rouge">KeycloakService</code> from the <code class="language-plaintext highlighter-rouge">keycloak-angular</code> library:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">function</span> <span class="nx">initializer</span><span class="p">(</span><span class="nx">keycloakService</span><span class="p">:</span> <span class="nx">KeycloakService</span><span class="p">,</span> <span class="nx">keycloakConfigService</span><span class="p">:</span> <span class="nx">KeycloakConfigService</span><span class="p">):</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span> <span class="o">=&gt;</span> <span class="nx">keycloakConfigService</span><span class="p">.</span><span class="nx">getConfig</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span>
            <span class="nx">filter</span><span class="p">(</span><span class="nx">config</span> <span class="o">=&gt;</span> <span class="nx">config</span><span class="p">.</span><span class="nx">enabled</span><span class="p">),</span>
            <span class="nx">flatMap</span><span class="p">(</span><span class="nx">config</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">keycloakService</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
                    <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
                        <span class="na">url</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">authServerUrl</span><span class="p">,</span>
                        <span class="na">realm</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">realm</span><span class="p">,</span>
                        <span class="na">clientId</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">resource</span><span class="p">,</span>
                        <span class="na">credentials</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">secret</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">credentials</span><span class="p">.</span><span class="nx">secret</span>
                        <span class="p">}</span>
                    <span class="p">},</span>
                    <span class="na">initOptions</span><span class="p">:</span> <span class="p">{</span>
                        <span class="na">onLoad</span><span class="p">:</span> <span class="dl">'</span><span class="s1">check-sso</span><span class="dl">'</span><span class="p">,</span>
                        <span class="na">checkLoginIframe</span><span class="p">:</span> <span class="kc">false</span>
                    <span class="p">}</span>
                <span class="p">});</span>
            <span class="p">})).</span><span class="nx">toPromise</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="securing-routes">Securing routes</h3>

<p>In order to secure routes, use <a href="https://angular.io/guide/router#guards"><code class="language-plaintext highlighter-rouge">Angular Route Guard</code></a>.
Create <code class="language-plaintext highlighter-rouge">AppAuthGuard</code> by extending <code class="language-plaintext highlighter-rouge">KeycloakAuthGuard</code> and implementing <a href="https://angular.io/api/router/CanActivate">canActivate</a>.</p>

<p>Download the configuration from <code class="language-plaintext highlighter-rouge">KeycloakConfigService</code> in the constructor to verify if authentication is enabled (the <code class="language-plaintext highlighter-rouge">keycloak.enabled</code> parameter in <code class="language-plaintext highlighter-rouge">application.yml</code>), and check if the user has the required role:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Injectable</span><span class="p">({</span>
    <span class="na">providedIn</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">AppAuthGuard</span> <span class="kd">extends</span> <span class="nx">KeycloakAuthGuard</span> <span class="p">{</span>
    <span class="nl">isAuthEnabled</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nl">requiredUserRole</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="k">protected</span> <span class="nx">router</span><span class="p">:</span> <span class="nx">Router</span><span class="p">,</span> <span class="k">protected</span> <span class="nx">keycloakService</span><span class="p">:</span> <span class="nx">KeycloakService</span><span class="p">,</span> <span class="k">private</span> <span class="nx">keycloakConfigService</span><span class="p">:</span> <span class="nx">KeycloakConfigService</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">router</span><span class="p">,</span> <span class="nx">keycloakService</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">keycloakConfigService</span><span class="p">.</span><span class="nx">getConfig</span><span class="p">().</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">config</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">isAuthEnabled</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">enabled</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">requiredUserRole</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">requiredUserRole</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nx">canActivate</span><span class="p">(</span><span class="nx">route</span><span class="p">:</span> <span class="nx">ActivatedRouteSnapshot</span><span class="p">,</span> <span class="nx">state</span><span class="p">:</span> <span class="nx">RouterStateSnapshot</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isAuthEnabled</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">super</span><span class="p">.</span><span class="nx">canActivate</span><span class="p">(</span><span class="nx">route</span><span class="p">,</span> <span class="nx">state</span><span class="p">)</span> <span class="k">as</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">isAccessAllowed</span><span class="p">(</span><span class="nx">route</span><span class="p">:</span> <span class="nx">ActivatedRouteSnapshot</span><span class="p">,</span> <span class="nx">state</span><span class="p">:</span> <span class="nx">RouterStateSnapshot</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">authenticated</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">keycloakService</span><span class="p">.</span><span class="nx">login</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="nx">resolve</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">roles</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">requiredUserRole</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Next, use the guard in w <code class="language-plaintext highlighter-rouge">app-routing.module.ts</code> to secure the <code class="language-plaintext highlighter-rouge">protected</code> route:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">routes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
        <span class="na">component</span><span class="p">:</span> <span class="nx">PublicComponent</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">protected</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">component</span><span class="p">:</span> <span class="nx">ProtectedComponent</span><span class="p">,</span>
        <span class="na">canActivate</span><span class="p">:</span> <span class="p">[</span><span class="nx">AppAuthGuard</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">];</span>
</code></pre></div></div>

<h2 id="tests">Tests</h2>

<h3 id="running-a-container">Running a container</h3>

<p>Once you have a Keycloak server running, you can build the application and a Docker image and then run a container.</p>

<p>To do so, first build the application in the main repo directory:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./gradlew build
</code></pre></div></div>

<p>Next, create a docker image:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-t</span> michuu93/spring-angular-keycloak-demo <span class="nb">.</span>
</code></pre></div></div>

<p>Finally, run the container:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">--name</span> spring-angular-keycloak-demo <span class="nt">--network</span> host michuu93/spring-angular-keycloak-demo
</code></pre></div></div>

<p>Since the applications inside the container as well as you operating at the browser level need to have access to the Keycloak server at the same address, a container with the <code class="language-plaintext highlighter-rouge">--network host</code> option is run in Docker. Let’s skip the details on how the network works for now.</p>

<p>Thanks to that you don’t have to expose any proxy or replace hosts in the system. This is, however, a simplification made for the purpose of the demo and shouldn’t be used in a production environment.</p>

<p>Verifying authentication procedure</p>

<p>After running the application you can test it in action.
Go to <a href="http://localhost:9082/">localhost:9082</a> where you should see the frontend application, specifically <code class="language-plaintext highlighter-rouge">ToolbarComponent</code> and <code class="language-plaintext highlighter-rouge">PublicComponent</code>:</p>

<p><img src="/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/public_component_not_logged.png" alt="Public component" /></p>

<p>You can use the menu to go to:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Public</code> - unsecured route with <code class="language-plaintext highlighter-rouge">PublicComponent</code>;</li>
  <li><code class="language-plaintext highlighter-rouge">Protected</code> - secured route with <code class="language-plaintext highlighter-rouge">ProtectedComponent</code>;</li>
  <li><code class="language-plaintext highlighter-rouge">Keycloak Configuration</code> - unsecured endpoint exposing Keycloak configuration from the backend;</li>
  <li><code class="language-plaintext highlighter-rouge">Backend Hello</code> - secure endpoint that returns <code class="language-plaintext highlighter-rouge">Hello from the Backend!</code>;</li>
  <li><code class="language-plaintext highlighter-rouge">Logout (backend)</code> - logging out of the backend;</li>
  <li><code class="language-plaintext highlighter-rouge">Logout (frontend)</code> - button which logs you out of the frontend, available only after logging into the frontend.</li>
</ul>

<p>To check if you have access to <code class="language-plaintext highlighter-rouge">Keycloak Configuration</code> without logging in, execute:
<img src="/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/keycloak_config.png" alt="Keycloak Configuration" /></p>

<p>It looks like the public route and API endpoint are working properly.</p>

<p>If you now move to <code class="language-plaintext highlighter-rouge">Protected</code>, you will be redirected to Keycloak’s login page:</p>

<p>http://localhost:8180/auth/realms/<strong>SpringBootAngular</strong>/protocol/<strong>openid-connect</strong>/auth?client_id=<strong>SpringBootAngularClient</strong>&amp;redirect_uri=<strong>http%3A%2F%2Flocalhost%3A9082%2F%23%2F</strong>&amp;state=3e007783-4772-48dd-8b31-4bfe3cc9c42c&amp;response_mode=fragment&amp;response_type=code&amp;scope=openid&amp;nonce=023ab545-32dc-4bdc-9cbf-12cad1d0c944</p>

<p><img src="/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/keycloak_login.png" alt="Keycloak login" /></p>

<p>As you can see, the address contains information such as protocol name, realm, client and the address you will be redirected to after logging in.
If you log in with a user that has <code class="language-plaintext highlighter-rouge">user_role</code> (<code class="language-plaintext highlighter-rouge">user:password</code>), you will be redirected back to the application:</p>

<p><img src="/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/public_component_logged.png" alt="Public component" /></p>

<p>Additionally, you can use the <code class="language-plaintext highlighter-rouge">Logout (frontend)</code> button. You’re logged in now, so you can go to <code class="language-plaintext highlighter-rouge">Protected</code>:</p>

<p><img src="/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/protected_component.png" alt="Protected component" /></p>

<p><code class="language-plaintext highlighter-rouge">Backend Hello</code> will work as well:</p>

<p><img src="/assets/img/posts/2020-02-01-keycloak-uwierzytelnianie-autoryzacja-springboot-angular/backend_hello.png" alt="Backend Hello" /></p>

<p>If you log out of the frontend now - <code class="language-plaintext highlighter-rouge">Logout (frontend)</code>, the <code class="language-plaintext highlighter-rouge">Logout (frontend)</code> button will disappear and you will no longer have access to <code class="language-plaintext highlighter-rouge">Protected</code>.
You will still have access to <code class="language-plaintext highlighter-rouge">Backend Hello</code>. Only when you log out of the backend - <code class="language-plaintext highlighter-rouge">Logout (backend)</code>, will you lose access to <code class="language-plaintext highlighter-rouge">Backend Hello</code>.
However, if you are a logged in user and you log out of the backend, not the frontend, you will be automatically logged out of the frontend as well.</p>

<p>Why?</p>

<p>The principles of how Keycloak and the tokens (the OpenID Connect standard specifically) work is a separate topic. Due to complex implementation, logging out deserves a separate article, especially when distributed systems with multiple application instances running behind a load balancer are involved.</p>

<p>The demo has a very simple logging out mechanism.</p>

<p>Logging out from the frontend will call the <code class="language-plaintext highlighter-rouge">logout</code> method on the <code class="language-plaintext highlighter-rouge">keycloak-angular</code> library service:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">logout</span> <span class="o">=</span> <span class="k">async</span> <span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="o">=&gt;</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">keycloakService</span><span class="p">.</span><span class="nx">logout</span><span class="p">();</span>
</code></pre></div></div>
<p>whereas logging out from the backend will call /api/logout, which will result in executing:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fun</span> <span class="nf">logout</span><span class="o">(</span><span class="nl">request:</span> <span class="nc">HttpServletRequest</span><span class="o">,</span> <span class="nl">response:</span> <span class="nc">HttpServletResponse</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">request</span><span class="o">.</span><span class="na">logout</span><span class="o">()</span>
    <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"/"</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>
<p>on the backend.</p>

<p>Finally, let’s also verify a user without the <code class="language-plaintext highlighter-rouge">user_role</code> (<code class="language-plaintext highlighter-rouge">user2:password2</code>).</p>

<p>After logging in, you should see the same buttons in the menu as in the case of a user with the required role.
This is so because displaying buttons is not dependent on whether the user has the permission to the route but on whether they are logged in:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ngOnInit</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">keycloakService</span><span class="p">.</span><span class="nx">isLoggedIn</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">isLogged</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">isLogged</span> <span class="o">=</span> <span class="nx">isLogged</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Calling <code class="language-plaintext highlighter-rouge">Backend Hello</code> will not be possible either.</p>

<p>Authentication can be quickly turned off in both applications by setting <code class="language-plaintext highlighter-rouge">keycloak.enabled</code> in <code class="language-plaintext highlighter-rouge">application.yml</code> to <code class="language-plaintext highlighter-rouge">false</code>.
It can be useful e.g. in test environments.</p>

<h2 id="closing-remarks">Closing remarks</h2>

<p>I hope this article has been useful in demonstrating how to integrate an application with a Keycloak server.</p>

<p>Still, this is not the only method of implementation. If the application is supposed to be more flexible, you can use the implementation of the OAuth2 standard using <code class="language-plaintext highlighter-rouge">Spring Security</code>. This way you will not be tied to a Keycloak server and in the future you will be able to easily replace it with a different authentication/authorization server.</p>

<p>Keycloak exposes endpoints at which the configuration is available <a href="https://www.keycloak.org/docs/4.8/server_admin/#keycloak-server-oidc-uri-endpoints">(link)</a>.
You can find them in <code class="language-plaintext highlighter-rouge">Realm Settings &gt; General &gt; Endpoints</code>. For OpenID Connect in this case it is:
<a href="http://127.0.0.1:8180/auth/realms/SpringBootAngular/.well-known/openid-configuration">http://127.0.0.1:8180/auth/realms/SpringBootAngular/.well-known/openid-configuration</a>
They can be useful if the application does not use Keycloak adapters to connect to the server.</p>

<p>Also, you don’t have to log in to the application via a browser but you can use Keycloak to authenticate applications between one another, e.g. when you are integrating various modules together. In such a case, the <code class="language-plaintext highlighter-rouge">bearer-only option</code>` in the client configuration will be useful.</p>

                            
                            <span class="translation-details">
    Translation by Piotr Żurawski
</span>

                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="sidebar-desktop">
                
<div class="sidebar-container latest-posts">
    <div class="sidebar-title">
        Najnowsze wpisy
    </div>
    <hr class="latest-posts-separator">
    <div class="sidebar-latest-posts-container">
        <ul class="sidebar-posts"><li class="sidebar-post no-breaking-word star-icon">
                <a href="/2026/02/13/czy-wiesz-czym-jest-narzedzie-artillery.html" lang="pl">Czy wiesz, czym jest narzędzie artillery?</a>
            </li><li class="sidebar-post no-breaking-word star-icon">
                <a href="/2025/12/03/czy-wiesz-ze-typescript-ma-typ-bezpieczniejszy-niz-any.html" lang="pl">Czy wiesz, że TypeScript ma typ bezpieczniejszy niż Any?</a>
            </li><li class="sidebar-post no-breaking-word star-icon">
                <a href="/2025/11/17/czy-wiesz-ze-za-pomoca-operatora-sharereplay-mozesz-cache-owac-dane-z-observable.html" lang="pl">Czy wiesz, że za pomocą operatora shareReplay możesz cache&#39;ować dane z observable?</a>
            </li></ul>
    </div>
</div>

                <div class="sidebar-container offers" id="offers-sidebar">
    <div class="sidebar-title offers-title">
        Dołącz do nas
    </div>
    <hr class="offers-separator">
    <ul class="sidebar-posts offers-list">
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/senior-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">SENIOR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 14 900 - 20 590 PLN brutto <br/>
                            B2B 19 680 - 27 220 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/regular-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">REGULAR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 11 300 - 15 900 PLN brutto <br/>
                            B2B 14 950 - 21 000 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a class="clickable-offer" href="https://www.consdata.com/pl/kariera/trwajace-rekrutacje#tag-developer">
                <div class="other-job-offers">
                    <span class="job-title">ZOBACZ WSZYSTKIE OGŁOSZENIA</span>
                </div>
            </a>
        </li>
    </ul>
</div>

                
<div class="sidebar-container newsletter-sidebar-tile">
    <div class="newsletter-tile-title-container">
        
        <h2 class="newsletter-tile-title">newsletter</h2>
        <h2 class="newsletter-tile-title">techniczny</h2>
        
    </div>
    <a href="#newsletter-form" class="sign-up-btn">Zapisz się</a>
</div>

            </div>
        </div>
        <div class="recommended-container" id="recommended-posts-container">
    <h2 class="title">
        Similar posts
    </h2>
    <div id="latest-posts-container" class="latest-posts-container">



<div class="post-tile">
    <a class="small-post-image" href="/2026/02/13/czy-wiesz-czym-jest-narzedzie-artillery.html">
        <img class="tile-image small-post-image" src="/assets/img/posts/2026-02-13-czy-wiesz-czym-jest-narzedzie-artillery/thumbnail.webp" alt="post-image"/>
    </a>
    <div class="post-tile-content">
        <div class="badge-panel">
            <div class="badge">artillery</div>
        </div>
        <h4 class="post-title no-breaking-word">
            <a href="/2026/02/13/czy-wiesz-czym-jest-narzedzie-artillery.html">Czy wiesz, czym jest narzędzie artillery?</a>
        </h4>

        <p class="post-description no-breaking-word">
            <a href="/2026/02/13/czy-wiesz-czym-jest-narzedzie-artillery.html">
                
                
                
            </a>
        </p>

        <div class="tile-author"><a href="/authors/kdudek.html" class="author-name author-img">
                <img class="small-author-image" src="/assets/img/authors/kdudek.webp" alt="author">
            </a>
            <div class="post-info">
                <a href="/authors/kdudek.html" class="author-name">Kamil Dudek</a>
                <span class="post-date">
13

lut



2026
</span>
            </div></div>
    </div>
</div>




<div class="post-tile">
    <a class="small-post-image" href="/2025/12/03/czy-wiesz-ze-typescript-ma-typ-bezpieczniejszy-niz-any.html">
        <img class="tile-image small-post-image" src="/assets/img/posts/2025-12-04-czy-wiesz-ze-typescript-ma-typ-bezpieczniejszy-niz-any/thumbnail.webp" alt="post-image"/>
    </a>
    <div class="post-tile-content">
        <div class="badge-panel">
            <div class="badge">typescript</div>
        </div>
        <h4 class="post-title no-breaking-word">
            <a href="/2025/12/03/czy-wiesz-ze-typescript-ma-typ-bezpieczniejszy-niz-any.html">Czy wiesz, że TypeScript ma typ bezpieczniejszy niż Any?</a>
        </h4>

        <p class="post-description no-breaking-word">
            <a href="/2025/12/03/czy-wiesz-ze-typescript-ma-typ-bezpieczniejszy-niz-any.html">
                
                
                
            </a>
        </p>

        <div class="tile-author"><a href="/authors/wstolarski.html" class="author-name author-img">
                <img class="small-author-image" src="/assets/img/authors/wstolarski.webp" alt="author">
            </a>
            <div class="post-info">
                <a href="/authors/wstolarski.html" class="author-name">Wojciech Stolarski</a>
                <span class="post-date">
3

gru



2025
</span>
            </div></div>
    </div>
</div>




<div class="post-tile">
    <a class="small-post-image" href="/2025/11/17/czy-wiesz-ze-za-pomoca-operatora-sharereplay-mozesz-cache-owac-dane-z-observable.html">
        <img class="tile-image small-post-image" src="/assets/img/posts/2025-11-17-czy-wiesz-ze-za-pomoca-operatora-sharereplay-mozesz-cache-owac-dane-z-observable/thumbnail.webp" alt="post-image"/>
    </a>
    <div class="post-tile-content">
        <div class="badge-panel">
            <div class="badge">rxjs</div>
        </div>
        <h4 class="post-title no-breaking-word">
            <a href="/2025/11/17/czy-wiesz-ze-za-pomoca-operatora-sharereplay-mozesz-cache-owac-dane-z-observable.html">Czy wiesz, że za pomocą operatora shareReplay możesz cache'ować dane z observable?</a>
        </h4>

        <p class="post-description no-breaking-word">
            <a href="/2025/11/17/czy-wiesz-ze-za-pomoca-operatora-sharereplay-mozesz-cache-owac-dane-z-observable.html">
                
                
                
            </a>
        </p>

        <div class="tile-author"><a href="/authors/ptatarski.html" class="author-name author-img">
                <img class="small-author-image" src="/assets/img/authors/ptatarski.webp" alt="author">
            </a>
            <div class="post-info">
                <a href="/authors/ptatarski.html" class="author-name">Piotr Tatarski</a>
                <span class="post-date">
17

lis



2025
</span>
            </div></div>
    </div>
</div>
</div>
    <img id="arrow-icon" onclick="toggleRecommendation()" class="arrow rotated" src="/assets/icon/arrow.svg">
</div>

<script>

    let expended = false;
    const arrowIcon = document.getElementById("arrow-icon")

    function toggleRecommendation() {
        if (expended) {
            document.getElementById("latest-posts-container").classList.remove("hide");
            arrowIcon.classList.add("rotated");
        } else {
            document.getElementById("latest-posts-container").classList.add("hide");
            arrowIcon.classList.remove("rotated");
        }
        
        expended = !expended;
    }

</script>

        <div class="consdata-offers-mobile">
            <div class="sidebar-container offers" id="offers-sidebar">
    <div class="sidebar-title offers-title">
        Dołącz do nas
    </div>
    <hr class="offers-separator">
    <ul class="sidebar-posts offers-list">
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/senior-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">SENIOR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 14 900 - 20 590 PLN brutto <br/>
                            B2B 19 680 - 27 220 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/regular-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">REGULAR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 11 300 - 15 900 PLN brutto <br/>
                            B2B 14 950 - 21 000 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a class="clickable-offer" href="https://www.consdata.com/pl/kariera/trwajace-rekrutacje#tag-developer">
                <div class="other-job-offers">
                    <span class="job-title">ZOBACZ WSZYSTKIE OGŁOSZENIA</span>
                </div>
            </a>
        </li>
    </ul>
</div>

        </div>
        <div class="newsletter-sub-container" id="newsletter-sub-container">
    <div class="title">
        
        <h2>Zapisz się na </h2>
        <h2 class="newsletter">newsletter </h2>
        <h2>techniczny</h2>
        
    </div>
    <div id="newsletter-form" class="newsletter-agreement-form-content">
        <form class="newsletter-form" action="https://app2.salesmanago.pl/form/e7yrrpjmxbm7bahc/contact.htm" method="post" target="_blank" onsubmit="">
            <input type="hidden" name="lang" value="pl">
            <input type="hidden" name="formId" value="fe234ba7-932a-438e-aca0-0cf324930910">
            <input type="hidden" value="true" name="sm-form-consent-id-2634-NEWSLETTER_JAVA">
            <div class="form-inputs">
                <input required placeholder="Imię *" name="sm-form-name"/>
                <input required type="email" placeholder="Adres e-mail *" name="sm-form-email"/>
            </div>
            <div class="form-checkbox-container">
                <label class="form-checkbox">
                    <input required type="checkbox" name="sm-form-consent-name-NEWSLETTER_JAVA"/>
                    <div class="form-checkbox-input"></div>
                    <span>Wysyłając formularz, wyrażasz zgodę na przetwarzanie swoich danych zgodnie z Polityką Prywatności.*</span>
                </label>
            </div>
            <button class="sign-up-btn">Zapisz się</button>
        </form>
    </div>
</div>

    </article>
</div>
<script>
    const language = 'pl';
    const jsonPath = language === 'en' ? '/en/json/posts.json' : '/json/posts.json';
    fetch(jsonPath)
        .then(response => response.json())
        .then(store => {
            function displayResults(results) {
                if (results.length > 0) {
                    const container = document.getElementById("recommended-posts");
                    results
                        .forEach(result => {
                            const item = store[result.ref];
                            if (item.lang === language) {
                                const listElement = document.createElement('li');
                                const anchor = document.createElement('a');
                                const postTitle = document.createTextNode(item.title);
                                listElement.classList.add('sidebar-post');
                                listElement.classList.add('no-breaking-word');
                                anchor.setAttribute('href', item.url);
                                anchor.setAttribute('lang', 'pl');
                                anchor.appendChild(postTitle);
                                listElement.appendChild(anchor);
                                container.appendChild(listElement);
                            }
                        });
                    if (container.children.length < 1) {
                        hideRecommendedPosts();
                    }
                } else {
                    hideRecommendedPosts();
                }

            }

            const tags = "angular spring boot keycloak keycloak-spring-boot-2-starter keycloak-spring-boot-2-adapter keycloak-angular uwierzytelnianie użytkownika";
            const idx = lunr(function () {
                this.field('tags');

                for (let key in store) {
                    this.add({
                        'id': key,
                        'title': store[key].title,
                        'tags': store[key].tags,
                    });
                }
            });
            const results = idx.search(tags).slice(1, 4);
            displayResults(results);
        })

    function hideRecommendedPosts() {
        document.getElementById("recommended-posts-container").style.display = 'none';
    }
</script>

</main><footer>
    <div class="container">
        <a class="footer-logo" href="https://consdata.com/pl">
            <img src="/assets/img/logo.png" alt="consdata.com">
        </a>
        <div class="footer-content">
            <div class="footer-menu">
                <ul class="menu">
                    <li class="menu-item">
                        <p class="menu-title">Kontakt</p>
                        <ul class="submenu">
                            <li>
                                <a href="mailto:sales@consdata.com">sales@consdata.com</a>
                            </li>
                            <li>
                                <p>+48 61 41 51 000</p>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <p class="menu-title">Biuro</p>
                        <ul class="submenu">
                            <li>
                                <p>K9Office<br>Krysiewicza 9/14<br>61-825 Poznań<br>Polska</p>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <p class="menu-title">Rozwiązania</p>
                        <ul class="submenu">
                            <li>
                                <a href="https://eximee.com" target="_blank">Eximee</a>
                            </li>
                            <li>
                                <a href="https://kouncil.io" target="_blank">Kouncil</a>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <a href="/" class="menu-title">Blog</a>
                        <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje" class="menu-title"
                           target="_blank">Dołącz do nas</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="small-footer-container">
        <div class="footer-copyright">
            <span>Copyright © 2024 Consdata. All rights reserved.</span>
            <span>
                <a href="https://consdata.com/pl/polityka-prywatnosci"
                     class="privacy-policy">Privacy Policy & Cookies</a>
            </span>
        </div>
        <div class="social-footer">
            <a target="_blank" href="https://www.facebook.com/consdatacom">
                <img class="icon" src="/assets/icon/social-f.svg">
            </a>
            <a target="_blank" href="https://www.linkedin.com/company/consdata">
                <img class="icon" src="/assets/icon/social-in.svg">
            </a>
            <a target="_blank" href="https://github.com/Consdata">
                <img class="icon" src="/assets/icon/github.svg">
            </a>
            <a target="_blank" href="https://forum.eximee.com/">
                <img class="icon" src="/assets/icon/social-icon.svg">
            </a>
        </div>
    </div>
</footer>
<div class="cookie-notice" id="cookie-notice">
    <i onclick="hideConsent()" class="close-consent fa fa-times close"></i>
    <div class="cookie-container">
        <span>
            
            We would like to use third party cookies and scripts to improve the functionality of this website.
        </span>
        <a id="cookie-notice-accept" class="consent-button">Approve</a>
    </div>
        <noscript><img height="1" width="1" style="display:none"
                   src="https://www.facebook.com/tr?id=300808861525851&ev=PageView&noscript=1"
    /></noscript>
</div>

<script>
    function createCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }

    function readCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function eraseCookie(name) {
        createCookie(name, "", -1);
    }

    function hideConsent() {
        document.getElementById('cookie-notice').style.display = 'none';
    }

    if (readCookie('cookie-notice-dismissed') === 'true') {!function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
        n.callMethod ?
            n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = '2.0';
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s)
}(window, document, 'script',
    'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '300808861525851');
fbq('track', 'PageView');
} else {
        document.getElementById('cookie-notice').style.display = 'flex';
    }

    document.getElementById('cookie-notice-accept').addEventListener("click", function () {
        createCookie('cookie-notice-dismissed', 'true', 31);
        hideConsent();
        location.reload();
    });
</script>

</body>
</html>
