<!DOCTYPE html>
<html lang="pl">
<script src="/js/lunr.min.js"></script><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Czy wiesz czym jest partycjonowanie? | Consdata - blog techniczny</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Czy wiesz czym jest partycjonowanie?" />
<meta name="author" content="rmastalerek" />
<meta property="og:locale" content="pl" />
<link rel="canonical" href="https://blog.consdata.tech/2025/01/07/czy-wiesz-czym-jest-partycjonowanie.html" />
<meta property="og:url" content="https://blog.consdata.tech/2025/01/07/czy-wiesz-czym-jest-partycjonowanie.html" />
<meta property="og:site_name" content="Consdata - blog techniczny" />
<meta property="og:image" content="https://blog.consdata.tech/assets/img/posts/2025-01-07-czy-wiesz-czym-jest-partycjonowanie/thumbnail.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-07T01:00:00-06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://blog.consdata.tech/assets/img/posts/2025-01-07-czy-wiesz-czym-jest-partycjonowanie/thumbnail.webp" />
<meta property="twitter:title" content="Czy wiesz czym jest partycjonowanie?" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"rmastalerek"},"image":"https://blog.consdata.tech/assets/img/posts/2025-01-07-czy-wiesz-czym-jest-partycjonowanie/thumbnail.webp","@type":"BlogPosting","headline":"Czy wiesz czym jest partycjonowanie?","dateModified":"2025-01-07T01:00:00-06:00","datePublished":"2025-01-07T01:00:00-06:00","url":"https://blog.consdata.tech/2025/01/07/czy-wiesz-czym-jest-partycjonowanie.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.consdata.tech/2025/01/07/czy-wiesz-czym-jest-partycjonowanie.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700,600,500,300,200,100,800,900" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,600,500,300,200,100,800,900" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;400;500;700&display=swap" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.consdata.tech/feed.xml" title="Consdata - blog techniczny" /><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NFV6DPR');</script>


  <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body><nav class="site-header">
    <div class="container">
        <div class="header navbar-default" role="navigation">
            <div class="header-brand">
                <a class="header-logo" href="/">
                    <img src="/assets/img/logo.png" alt="consdata.com">
                </a>
                <div class="mobile-search">
                    
<form action="/search.html" method="get">

    <div class="search-input-container">
        <input type="text" placeholder="Znajdź artykuł..." id="search-box-mobile" name="query" class="search-input" autocomplete="off">
        <i class="fa fa-search search-icon" onclick="expandInputMobile()"></i>
    </div>
</form>

<script>
    const inputMobile = document.getElementById("search-box-mobile");
    const logo = document.getElementById("header-logo");
    const expandInputMobile = () => {
        inputMobile.classList.toggle("expanded");
        logo.classList.toggle("header-logo");
        logo.classList.toggle("logo-invisible");
    };
</script>

                </div>
            </div>
            <div id="header-links">
                <div>
                    <a class="nav-link" href="/">Blog techniczny</a>
                    <a class="nav-link" href="https://consdata.com/pl/blog/biznesowy">Blog biznesowy</a>
                    <a class="nav-link" href="https://consdata.com/pl/blog/hr">Dział HR</a>
                </div>
                
                <a class="language-switch" onclick="navigate('/en/2025/01/07/czy-wiesz-czym-jest-partycjonowanie.html')">EN</a>
                
            </div>

        </div>
    </div>
</nav>
<script>
    function navigate(baseUrl) {
        const queryParams = window.location.search;
        window.location.href = baseUrl + queryParams;
    }
</script>
<main class="page-content" aria-label="Content">
    


<div class="blog">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-content-sidebar">
            <div class="post-content">
                <div class="badge">databases</div>
                <h1 class="post-big-title p-name" itemprop="name headline">Czy wiesz czym jest partycjonowanie?</h1>
                <div class="post-metadata">
    <div>
    <a class="author" href="/authors/rmastalerek.html">
        <img class="author-image" src="/assets/img/authors/rmastalerek.webp" alt="author">
        <span class="author-name">Robert Mastalerek</span><a class="author" href="https://github.com/robertmastalerek">
            <img class="github-icon" src="/assets/icon/github.svg">
        </a>
        
    </a>
</div>

    <div class="metadata">
        
        <span class="publish-date">
7

stycznia



2025
</span>
    </div>
</div>

                <div itemprop="articleBody" class="post-content-container">
                    <div class="post-content-left-pane">
                        <div class="post-content">
                            <p>Partycjonowanie tabel to technika projektowania bazy danych, która pozwala podzielić dużą tabelę na mniejsze, łatwiejsze w zarządzaniu kawałki zwane partycjami.  Każda partycja to oddzielna tabela przechowująca podzbiór oryginalnych danych.</p>

<h2 id="korzyści">Korzyści</h2>
<ul>
  <li>Poprawa wydajności zapytań - partycjonowanie pozwala bazie danych zawęzić dane do konkretnej partycji, zmniejszając ilość danych, które muszą być przeszukane</li>
  <li>Łatwiejsze zarządzanie danymi - dzięki podziałowi na mniejsze zestawy danych zarządzanie nimi jest prostsze</li>
  <li>Szybsze ładowanie danych i indeksowanie - podczas ładowania danych do partycjonowanej tabeli proces może być zrównoleglony, co prowadzi do szybszego pobierania danych</li>
  <li>Tańsze przechowywanie danych - partycjonowanie pozwala przechowywać starsze lub rzadziej używane dane na tańszych nośnikach pamięci, jednocześnie utrzymując często używane dane na szybszych urządzeniach</li>
</ul>

<h2 id="wady">Wady</h2>
<ul>
  <li>Złożoność - partycjonowanie może sprawić, że bazy danych będą o wiele bardziej złożone, ponieważ wymaga tworzenia wielu tabel i partycji oraz zarządzania nimi. To z kolei może negatywnie wpłynąć na ich utrzymywanie, zrozumienie ich oraz nawigowanie po ich strukturze</li>
  <li>Partycjonowanie narzutowe - może zwiększyć obciążenie bazy danych, ponieważ wymaga większej liczby zasobów do zarządzania wieloma partycjami. Efektem (takiego działania) może być spowolnione działanie, szczególnie podczas dodawania lub aktualizowania danych</li>
  <li>Złożoność zapytań - zapytania obejmujące wiele partycji mogą być bardziej złożone, ponieważ mogą wymagać łączenia danych z wielu źródeł. To z kolei może doprowadzić do wolniejszego wykonywania zapytań</li>
  <li>Spójność danych - partycjonowanie może utrudnić zapewnienie spójności danych, ponieważ dane są rozproszone na wielu partycjach. Może to utrudnić utrzymanie ograniczeń i zapewnienie integralności danych</li>
  <li>Migracja danych - jeżeli zajdzie potrzeba zmiany strategii partycjonowania lub przeniesienia danych pomiędzy partycjami, to w takim środowisku może to być złożony i czasochłonny proces</li>
  <li>Brak elastyczności - strategie partycjonowania opierają się zwykle na określonej kolumnie lub zestawie kolumn, a ich zmiana lub dostosowanie w przypadku zmiany danych lub wymagań może być trudne</li>
</ul>

<h2 id="metody-partycjonowania-na-przykładzie-postgresql">Metody partycjonowania na przykładzie PostgreSQL</h2>

<p>PostgreSQL oferuje 3 metody partycjonowania tabel:</p>

<h3 id="partycjonowanie-zakresowe-ang-range-partitioning">Partycjonowanie zakresowe (ang. Range partitioning)</h3>

<p>Ten rodzaj partycjonowania polega na podziale danych na partycje na podstawie zakresu wartości. Każda partycja przechowuje podzbiór danych, które mieszczą się w określonym zakresie. Przykładowo, jeśli mamy tabelę z datami zamówień od 2000 do 2023 roku, możemy podzielić tę tabelę na partycje, gdzie każda z nich przechowywać będzie zamówienia z jednego roku. W ten sposób, kiedy wykonujemy zapytanie dotyczące zamówień z 2020 roku, PostgreSQL musi przeszukać tylko tę partycję, której dane dotyczą, a nie całą tabelę.</p>

<p>Przykład:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- struktura tabeli</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales</span> <span class="p">(</span>
    <span class="n">sale_id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">sale_date</span> <span class="nb">DATE</span><span class="p">,</span>
    <span class="n">product_id</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">quantity</span> <span class="nb">INT</span><span class="p">,</span>
    <span class="n">amount</span> <span class="nb">NUMERIC</span>
<span class="p">)</span> <span class="n">partition</span> <span class="k">by</span> <span class="n">range</span> <span class="p">(</span><span class="n">sale_date</span><span class="p">);</span>

<span class="c1">-- tworzenie partycji</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales_2021</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">sales</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">FROM</span> <span class="p">(</span><span class="s1">'2021-01-01'</span><span class="p">)</span> <span class="k">TO</span> <span class="p">(</span><span class="s1">'2022-01-01'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales_2022</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">sales</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">FROM</span> <span class="p">(</span><span class="s1">'2022-01-01'</span><span class="p">)</span> <span class="k">TO</span> <span class="p">(</span><span class="s1">'2023-01-01'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sales_2023</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">sales</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">FROM</span> <span class="p">(</span><span class="s1">'2023-01-01'</span><span class="p">)</span> <span class="k">TO</span> <span class="p">(</span><span class="s1">'2024-01-01'</span><span class="p">);</span>

<span class="c1">-- niezbędne ograniczenia</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">sales_2021</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">sales_2021_check</span>
    <span class="k">CHECK</span> <span class="p">(</span><span class="n">sale_date</span> <span class="o">&gt;=</span> <span class="s1">'2021-01-01'</span> <span class="k">AND</span> <span class="n">sale_date</span> <span class="o">&lt;</span> <span class="s1">'2022-01-01'</span><span class="p">);</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">sales_2022</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">sales_2022_check</span>
    <span class="k">CHECK</span> <span class="p">(</span><span class="n">sale_date</span> <span class="o">&gt;=</span> <span class="s1">'2022-01-01'</span> <span class="k">AND</span> <span class="n">sale_date</span> <span class="o">&lt;</span> <span class="s1">'2023-01-01'</span><span class="p">);</span>

<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">sales_2023</span> <span class="k">ADD</span> <span class="k">CONSTRAINT</span> <span class="n">sales_2023_check</span>
    <span class="k">CHECK</span> <span class="p">(</span><span class="n">sale_date</span> <span class="o">&gt;=</span> <span class="s1">'2023-01-01'</span> <span class="k">AND</span> <span class="n">sale_date</span> <span class="o">&lt;</span> <span class="s1">'2024-01-01'</span><span class="p">);</span>

<span class="c1">-- przykładowe dane</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">sales</span> <span class="p">(</span><span class="n">sale_date</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2021-01-15'</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">sales</span> <span class="p">(</span><span class="n">sale_date</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2022-02-20'</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">sales</span> <span class="p">(</span><span class="n">sale_date</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2023-03-10'</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">150</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="c1">-- Przykładowe zapytania wykorzystujące utworzone partycje</span>

<span class="c1">-- Pobranie danych z 2021 roku</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">sales</span> <span class="k">WHERE</span> <span class="n">sale_date</span> <span class="o">&gt;=</span> <span class="s1">'2021-01-01'</span> <span class="k">AND</span> <span class="n">sale_date</span> <span class="o">&lt;</span> <span class="s1">'2022-01-01'</span><span class="p">;</span>

<span class="c1">-- Pobranie danych z 2022 roku</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">sales</span> <span class="k">WHERE</span> <span class="n">sale_date</span> <span class="o">&gt;=</span> <span class="s1">'2022-01-01'</span> <span class="k">AND</span> <span class="n">sale_date</span> <span class="o">&lt;</span> <span class="s1">'2023-01-01'</span><span class="p">;</span>

<span class="c1">-- Pobranie danych z 2023 roku</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">sales</span> <span class="k">WHERE</span> <span class="n">sale_date</span> <span class="o">&gt;=</span> <span class="s1">'2023-01-01'</span> <span class="k">AND</span> <span class="n">sale_date</span> <span class="o">&lt;</span> <span class="s1">'2024-01-01'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="partycjonowanie-listowe-ang-list-partitioning">Partycjonowanie listowe (ang. List partitioning)</h3>

<p>Jest to metoda partycjonowania, który polega na podziale danych na partycje na podstawie listy wartości. Każda partycja przechowuje bowiem podzbiór danych, które pasują do określonej wartości lub zestawu wartości. Przykładowo, jeśli mamy tabelę produktów, gdzie każdy produkt może mieć określony typ, możemy podzielić ją na partycje tak, aby każda partycja przechowywała zamówienia tylko jednego typu. Wykonując zapytanie dotyczące określonego typu produktu, PostgreSQL przeszukuje tylko tę partycję, która dotyczy podanego typu.</p>

<p>Przykład:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- struktura tabeli</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">products</span> <span class="p">(</span>
                          <span class="n">product_id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
                          <span class="n">category</span> <span class="nb">TEXT</span><span class="p">,</span>
                          <span class="n">product_name</span> <span class="nb">TEXT</span><span class="p">,</span>
                          <span class="n">price</span> <span class="nb">NUMERIC</span>
<span class="p">)</span> <span class="n">partition</span> <span class="k">by</span> <span class="n">list</span><span class="p">(</span><span class="n">category</span><span class="p">);</span>

<span class="c1">-- tworzenie partycji</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">electronics</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">products</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'Elektronika'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">clothing</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">products</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'Odzież'</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">furniture</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">products</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'Meble'</span><span class="p">);</span>

<span class="c1">-- przykładowe dane</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">products</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">product_name</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Elektronika'</span><span class="p">,</span> <span class="s1">'Telefon'</span><span class="p">,</span> <span class="mi">500</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">products</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">product_name</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Odzież'</span><span class="p">,</span> <span class="s1">'T-Shirt'</span><span class="p">,</span> <span class="mi">25</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">products</span> <span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="n">product_name</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'Meble'</span><span class="p">,</span> <span class="s1">'Sofa'</span><span class="p">,</span> <span class="mi">800</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="c1">-- Przykładowe zapytania wykorzystujące utworzone partycje</span>

<span class="c1">-- Wypisz produkty z kategorii Elektronika</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">products</span> <span class="k">WHERE</span> <span class="n">category</span> <span class="o">=</span> <span class="s1">'Elektronika'</span><span class="p">;</span>

<span class="c1">-- Wypisz produkty z kategorii Odzież</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">products</span> <span class="k">WHERE</span> <span class="n">category</span> <span class="o">=</span> <span class="s1">'Odzież'</span><span class="p">;</span>

<span class="c1">-- Wypisz produkty z kategorii Meble</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">products</span> <span class="k">WHERE</span> <span class="n">category</span> <span class="o">=</span> <span class="s1">'Meble'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="partycjonowanie-hashowe-ang-hash-partitioning">Partycjonowanie hashowe (ang. Hash partitioning)</h3>

<p>Ta metoda partycjonowania polega na podziale danych na partycje na podstawie wartości hash’owej. Każda partycja przechowuje podzbiór danych, które pasują do określonej wartości wspomnianego hasha. Przykładowo, jeśli mamy tabelę zamówień z różnymi identyfikatorami klientów, możemy podzielić tę tabelę na partycje tak, aby każda z nich przechowywała zamówienia o określonej wartości hasha identyfikatora klienta. W ten sposób, chcąc pobrać zamówienia danego klienta, możemy przeszukać tylko jeden, konkretny podzbiór danych.</p>

<p>Przykład:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- struktura tabeli</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">orders</span> <span class="p">(</span>
                        <span class="n">order_id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
                        <span class="n">order_date</span> <span class="nb">DATE</span><span class="p">,</span>
                        <span class="n">customer_id</span> <span class="nb">INT</span><span class="p">,</span>
                        <span class="n">total_amount</span> <span class="nb">NUMERIC</span>
<span class="p">)</span> <span class="n">partition</span> <span class="k">by</span> <span class="n">hash</span><span class="p">(</span><span class="n">customer_id</span><span class="p">);</span>

<span class="c1">-- tworzenie partycji</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">orders_1</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">orders</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">WITH</span> <span class="p">(</span><span class="n">MODULUS</span> <span class="mi">3</span><span class="p">,</span> <span class="n">REMAINDER</span> <span class="mi">0</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">orders_2</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">orders</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">WITH</span> <span class="p">(</span><span class="n">MODULUS</span> <span class="mi">3</span><span class="p">,</span> <span class="n">REMAINDER</span> <span class="mi">1</span><span class="p">);</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">orders_3</span> <span class="n">PARTITION</span> <span class="k">OF</span> <span class="n">orders</span>
    <span class="k">FOR</span> <span class="k">VALUES</span> <span class="k">WITH</span> <span class="p">(</span><span class="n">MODULUS</span> <span class="mi">3</span><span class="p">,</span> <span class="n">REMAINDER</span> <span class="mi">2</span><span class="p">);</span>

<span class="c1">-- przykładowe dane</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">orders</span> <span class="p">(</span><span class="n">order_date</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">,</span> <span class="n">total_amount</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2023-01-15'</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">500</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">orders</span> <span class="p">(</span><span class="n">order_date</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">,</span> <span class="n">total_amount</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2023-02-20'</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">600</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">orders</span> <span class="p">(</span><span class="n">order_date</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">,</span> <span class="n">total_amount</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="s1">'2023-03-10'</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">700</span><span class="p">.</span><span class="mi">00</span><span class="p">);</span>

<span class="c1">-- Przykładowe zapytania wykorzystujące utworzone partycje</span>

<span class="c1">-- Pobierz zamówienia dla klienta z ID = 101</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">orders</span> <span class="k">WHERE</span> <span class="n">customer_id</span> <span class="o">=</span> <span class="mi">101</span><span class="p">;</span>

<span class="c1">-- Pobierz zamówienia dla klienta z ID = 102</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">orders</span> <span class="k">WHERE</span> <span class="n">customer_id</span> <span class="o">=</span> <span class="mi">102</span><span class="p">;</span>

<span class="c1">-- Pobierz zamówienia dla klienta z ID = 103</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">orders</span> <span class="k">WHERE</span> <span class="n">customer_id</span> <span class="o">=</span> <span class="mi">103</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="podsumowanie">Podsumowanie</h2>

<p>Warto zauważyć, że partycjonowanie nie zawsze musi być najlepszym rozwiązaniem. Należy pamiętać o tym, aby przeanalizować wszystkie potencjalne wady i zalety wdrożenia tego rozwiązania i na tej podstawie zdecydować, czy jest to właściwe podejście w konkretnym scenariuszu. Ponadto, ważne jest także dokładne zaplanowanie i przetestowanie strategii partycjonowania przed wdrożeniem jej w środowisku produkcyjnym.</p>

<p>W kolejnym wpisie przyjrzymy się bliżej narzędziu do automatyzacji procesu partycjonowania: PostgreSQL Partition Manager</p>

                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="sidebar-desktop">
                
<div class="sidebar-container latest-posts">
    <div class="sidebar-title">
        Najnowsze wpisy
    </div>
    <hr class="latest-posts-separator">
    <div class="sidebar-latest-posts-container">
        <ul class="sidebar-posts"><li class="sidebar-post no-breaking-word star-icon">
                <a href="/2025/09/01/transactional-w-testach-integracyjnych-hibernate.html" lang="pl">Czy wiesz dlaczego nie powinno się stosować adnotacji @Transactional w testach integracyjnych z Hibernate?</a>
            </li><li class="sidebar-post no-breaking-word star-icon">
                <a href="/2025/07/31/angular-untracked.html" lang="pl">Czy wiesz, do czego służy untracked w Angular?</a>
            </li><li class="sidebar-post no-breaking-word star-icon">
                <a href="/2025/05/19/automatyczne-testowanie-dostepnosci.html" lang="pl">Czy wiesz, że w Jest można automatycznie testować dostępność (a11y)?</a>
            </li></ul>
    </div>
</div>

                <div class="sidebar-container offers" id="offers-sidebar">
    <div class="sidebar-title offers-title">
        Dołącz do nas
    </div>
    <hr class="offers-separator">
    <ul class="sidebar-posts offers-list">
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/senior-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">SENIOR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 14 900 - 20 590 PLN brutto <br/>
                            B2B 19 680 - 27 220 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/regular-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">REGULAR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 11 300 - 15 900 PLN brutto <br/>
                            B2B 14 950 - 21 000 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a class="clickable-offer" href="https://www.consdata.com/pl/kariera/trwajace-rekrutacje#tag-developer">
                <div class="other-job-offers">
                    <span class="job-title">ZOBACZ WSZYSTKIE OGŁOSZENIA</span>
                </div>
            </a>
        </li>
    </ul>
</div>

                
<div class="sidebar-container newsletter-sidebar-tile">
    <div class="newsletter-tile-title-container">
        
        <h2 class="newsletter-tile-title">newsletter</h2>
        <h2 class="newsletter-tile-title">techniczny</h2>
        
    </div>
    <a href="#newsletter-form" class="sign-up-btn">Zapisz się</a>
</div>

            </div>
        </div>
        <div class="recommended-container" id="recommended-posts-container">
    <h2 class="title">
        Podobne wpisy
    </h2>
    <div id="latest-posts-container" class="latest-posts-container">



<div class="post-tile">
    <a class="small-post-image" href="/2025/09/01/transactional-w-testach-integracyjnych-hibernate.html">
        <img class="tile-image small-post-image" src="/assets/img/posts/2025-09-01-transactional-w-testach-integracyjnych-hibernate/thumbnail.webp" alt="post-image"/>
    </a>
    <div class="post-tile-content">
        <div class="badge-panel">
            <div class="badge">transactions</div>
        </div>
        <h4 class="post-title no-breaking-word">
            <a href="/2025/09/01/transactional-w-testach-integracyjnych-hibernate.html">Czy wiesz dlaczego nie powinno się stosować adnotacji @Transactional w testach integracyjnych z Hibernate?</a>
        </h4>

        <p class="post-description no-breaking-word">
            <a href="/2025/09/01/transactional-w-testach-integracyjnych-hibernate.html">
                
                
                
            </a>
        </p>

        <div class="tile-author"><a href="/authors/rmastalerek.html" class="author-name author-img">
                <img class="small-author-image" src="/assets/img/authors/rmastalerek.webp" alt="author">
            </a>
            <div class="post-info">
                <a href="/authors/rmastalerek.html" class="author-name">Robert Mastalerek</a>
                <span class="post-date">
1

wrz



2025
</span>
            </div></div>
    </div>
</div>




<div class="post-tile">
    <a class="small-post-image" href="/2025/07/31/angular-untracked.html">
        <img class="tile-image small-post-image" src="/assets/img/posts/2025-06-09-angular-untracked/thumbnail.webp" alt="post-image"/>
    </a>
    <div class="post-tile-content">
        <div class="badge-panel">
            <div class="badge">angular</div>
        </div>
        <h4 class="post-title no-breaking-word">
            <a href="/2025/07/31/angular-untracked.html">Czy wiesz, do czego służy untracked w Angular?</a>
        </h4>

        <p class="post-description no-breaking-word">
            <a href="/2025/07/31/angular-untracked.html">
                
                
                
            </a>
        </p>

        <div class="tile-author"><a href="/authors/dmejer.html" class="author-name author-img">
                <img class="small-author-image" src="/assets/img/authors/dmejer.webp" alt="author">
            </a>
            <div class="post-info">
                <a href="/authors/dmejer.html" class="author-name">Dorian Mejer</a>
                <span class="post-date">
31

lip



2025
</span>
            </div></div>
    </div>
</div>




<div class="post-tile">
    <a class="small-post-image" href="/2025/05/19/automatyczne-testowanie-dostepnosci.html">
        <img class="tile-image small-post-image" src="/assets/img/posts/2025-05-19-automatyczne-testowanie-dostepnosci/thumbnail.webp" alt="post-image"/>
    </a>
    <div class="post-tile-content">
        <div class="badge-panel">
            <div class="badge">wcag</div>
        </div>
        <h4 class="post-title no-breaking-word">
            <a href="/2025/05/19/automatyczne-testowanie-dostepnosci.html">Czy wiesz, że w Jest można automatycznie testować dostępność (a11y)?</a>
        </h4>

        <p class="post-description no-breaking-word">
            <a href="/2025/05/19/automatyczne-testowanie-dostepnosci.html">
                
                
                
            </a>
        </p>

        <div class="tile-author"><a href="/authors/wstolarski.html" class="author-name author-img">
                <img class="small-author-image" src="/assets/img/authors/wstolarski.webp" alt="author">
            </a>
            <div class="post-info">
                <a href="/authors/wstolarski.html" class="author-name">Wojciech Stolarski</a>
                <span class="post-date">
19

maj



2025
</span>
            </div></div>
    </div>
</div>
</div>
    <img id="arrow-icon" onclick="toggleRecommendation()" class="arrow rotated" src="/assets/icon/arrow.svg">
</div>

<script>

    let expended = false;
    const arrowIcon = document.getElementById("arrow-icon")

    function toggleRecommendation() {
        if (expended) {
            document.getElementById("latest-posts-container").classList.remove("hide");
            arrowIcon.classList.add("rotated");
        } else {
            document.getElementById("latest-posts-container").classList.add("hide");
            arrowIcon.classList.remove("rotated");
        }
        
        expended = !expended;
    }

</script>

        <div class="consdata-offers-mobile">
            <div class="sidebar-container offers" id="offers-sidebar">
    <div class="sidebar-title offers-title">
        Dołącz do nas
    </div>
    <hr class="offers-separator">
    <ul class="sidebar-posts offers-list">
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/senior-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">SENIOR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 14 900 - 20 590 PLN brutto <br/>
                            B2B 19 680 - 27 220 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje/poznan/regular-fullstack-developer-java-angular"
               lang="pl">
                <div class="job-offer">
                    <span class="job-title">REGULAR FULLSTACK DEVELOPER (JAVA + ANGULAR)</span>
                    <span class="job-description">Poznań (hybrydowo) lub zdalnie</span>
                    <span class="job-salary">
                            UoP 11 300 - 15 900 PLN brutto <br/>
                            B2B 14 950 - 21 000 PLN netto
                        </span>
                </div>
            </a>
        </li>
        <li class="sidebar-post no-breaking-word">
            <a class="clickable-offer" href="https://www.consdata.com/pl/kariera/trwajace-rekrutacje#tag-developer">
                <div class="other-job-offers">
                    <span class="job-title">ZOBACZ WSZYSTKIE OGŁOSZENIA</span>
                </div>
            </a>
        </li>
    </ul>
</div>

        </div>
        <div class="newsletter-sub-container" id="newsletter-sub-container">
    <div class="title">
        
        <h2>Zapisz się na </h2>
        <h2 class="newsletter">newsletter </h2>
        <h2>techniczny</h2>
        
    </div>
    <div id="newsletter-form" class="newsletter-agreement-form-content">
        <form class="newsletter-form" action="https://app2.salesmanago.pl/form/e7yrrpjmxbm7bahc/contact.htm" method="post" target="_blank" onsubmit="">
            <input type="hidden" name="lang" value="pl">
            <input type="hidden" name="formId" value="fe234ba7-932a-438e-aca0-0cf324930910">
            <input type="hidden" value="true" name="sm-form-consent-id-2634-NEWSLETTER_JAVA">
            <div class="form-inputs">
                <input required placeholder="Imię *" name="sm-form-name"/>
                <input required type="email" placeholder="Adres e-mail *" name="sm-form-email"/>
            </div>
            <div class="form-checkbox-container">
                <label class="form-checkbox">
                    <input required type="checkbox" name="sm-form-consent-name-NEWSLETTER_JAVA"/>
                    <div class="form-checkbox-input"></div>
                    <span>Wysyłając formularz, wyrażasz zgodę na przetwarzanie swoich danych zgodnie z Polityką Prywatności.*</span>
                </label>
            </div>
            <button class="sign-up-btn">Zapisz się</button>
        </form>
    </div>
</div>

    </article>
</div>
<script>
    const language = 'pl';
    const jsonPath = language === 'en' ? '/en/json/posts.json' : '/json/posts.json';
    fetch(jsonPath)
        .then(response => response.json())
        .then(store => {
            function displayResults(results) {
                if (results.length > 0) {
                    const container = document.getElementById("recommended-posts");
                    results
                        .forEach(result => {
                            const item = store[result.ref];
                            if (item.lang === language) {
                                const listElement = document.createElement('li');
                                const anchor = document.createElement('a');
                                const postTitle = document.createTextNode(item.title);
                                listElement.classList.add('sidebar-post');
                                listElement.classList.add('no-breaking-word');
                                anchor.setAttribute('href', item.url);
                                anchor.setAttribute('lang', 'pl');
                                anchor.appendChild(postTitle);
                                listElement.appendChild(anchor);
                                container.appendChild(listElement);
                            }
                        });
                    if (container.children.length < 1) {
                        hideRecommendedPosts();
                    }
                } else {
                    hideRecommendedPosts();
                }

            }

            const tags = "databases";
            const idx = lunr(function () {
                this.field('tags');

                for (let key in store) {
                    this.add({
                        'id': key,
                        'title': store[key].title,
                        'tags': store[key].tags,
                    });
                }
            });
            const results = idx.search(tags).slice(1, 4);
            displayResults(results);
        })

    function hideRecommendedPosts() {
        document.getElementById("recommended-posts-container").style.display = 'none';
    }
</script>

</main><footer>
    <div class="container">
        <a class="footer-logo" href="https://consdata.com/pl">
            <img src="/assets/img/logo.png" alt="consdata.com">
        </a>
        <div class="footer-content">
            <div class="footer-menu">
                <ul class="menu">
                    <li class="menu-item">
                        <p class="menu-title">Kontakt</p>
                        <ul class="submenu">
                            <li>
                                <a href="mailto:sales@consdata.com">sales@consdata.com</a>
                            </li>
                            <li>
                                <p>+48 61 41 51 000</p>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <p class="menu-title">Biuro</p>
                        <ul class="submenu">
                            <li>
                                <p>K9Office<br>Krysiewicza 9/14<br>61-825 Poznań<br>Polska</p>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <p class="menu-title">Rozwiązania</p>
                        <ul class="submenu">
                            <li>
                                <a href="https://eximee.com" target="_blank">Eximee</a>
                            </li>
                            <li>
                                <a href="https://kouncil.io" target="_blank">Kouncil</a>
                            </li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <a href="/" class="menu-title">Blog</a>
                        <a href="https://consdata.com/pl/kariera/trwajace-rekrutacje" class="menu-title"
                           target="_blank">Dołącz do nas</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="small-footer-container">
        <div class="footer-copyright">
            <span>Copyright © 2024 Consdata. All rights reserved.</span>
            <span>
                <a href="https://consdata.com/pl/polityka-prywatnosci"
                     class="privacy-policy">Privacy Policy & Cookies</a>
            </span>
        </div>
        <div class="social-footer">
            <a target="_blank" href="https://www.facebook.com/consdatacom">
                <img class="icon" src="/assets/icon/social-f.svg">
            </a>
            <a target="_blank" href="https://www.linkedin.com/company/consdata">
                <img class="icon" src="/assets/icon/social-in.svg">
            </a>
            <a target="_blank" href="https://github.com/Consdata">
                <img class="icon" src="/assets/icon/github.svg">
            </a>
            <a target="_blank" href="https://forum.eximee.com/">
                <img class="icon" src="/assets/icon/social-icon.svg">
            </a>
        </div>
    </div>
</footer>
<div class="cookie-notice" id="cookie-notice">
    <i onclick="hideConsent()" class="close-consent fa fa-times close"></i>
    <div class="cookie-container">
        <span>
            
            Chcemy używać plików cookie oraz skryptów podmiotów trzecich do polepszania funkcjonowania tej strony
        </span>
        <a id="cookie-notice-accept" class="consent-button">Zgadzam się</a>
    </div>
        <noscript><img height="1" width="1" style="display:none"
                   src="https://www.facebook.com/tr?id=300808861525851&ev=PageView&noscript=1"
    /></noscript>
</div>

<script>
    function createCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }

    function readCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function eraseCookie(name) {
        createCookie(name, "", -1);
    }

    function hideConsent() {
        document.getElementById('cookie-notice').style.display = 'none';
    }

    if (readCookie('cookie-notice-dismissed') === 'true') {!function (f, b, e, v, n, t, s) {
    if (f.fbq) return;
    n = f.fbq = function () {
        n.callMethod ?
            n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if (!f._fbq) f._fbq = n;
    n.push = n;
    n.loaded = !0;
    n.version = '2.0';
    n.queue = [];
    t = b.createElement(e);
    t.async = !0;
    t.src = v;
    s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s)
}(window, document, 'script',
    'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '300808861525851');
fbq('track', 'PageView');
} else {
        document.getElementById('cookie-notice').style.display = 'flex';
    }

    document.getElementById('cookie-notice-accept').addEventListener("click", function () {
        createCookie('cookie-notice-dismissed', 'true', 31);
        hideConsent();
        location.reload();
    });
</script>

</body>
</html>
