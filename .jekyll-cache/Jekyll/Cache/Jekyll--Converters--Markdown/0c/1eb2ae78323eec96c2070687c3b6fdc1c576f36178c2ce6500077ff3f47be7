I"5<p>Stalo się standardem, że współczesne narzędzia i biblioteki dystrybuowane są z mniej lub bardziej zaawansowanym interfejsem graficznym. RabbitMQ, będący najpopularniejszym obecnie systemem kolejkowym, wita nas po zainstalowaniu przejrzystym i funkcjonalnym panelem administracyjnym. Może więc budzić zdziwienie, że Apache Kafka nie została wyposażona w żadne GUI. Do dyspozycji dostajemy jedynie zestaw skryptów bashowych, które co prawda pozwalają wykonać wiele czynności administracyjnych, to jednak korzystanie z nich nie należy do przyjemnych. Sprawiają wrażenie pisanych przez różne zespoły developerskie, ponieważ te same parametry potrafią mieć inne nazwy. W dodatku skrypty są bezstanowe - każde wywołanie musi mieć pełen zestaw parametrów identyfikujących serwer i zasoby do których chcemy się odwołać. Naturalnym jest zatem, że do wygodnej i wydajnej pracy warto wdrożyć rozwiązanie, które pozwala w łatwy sposób podejrzeć stan serwera oraz topików na Kafce. Z kolei ze względu na prostotę testowania i diagnostyki, warto mieć możliwość dodawania nowych komunikatów.</p>

<h2 id="dlaczego-piszemy-własne-narzędzie">Dlaczego piszemy własne narzędzie</h2>
<p>Poszukując administracyjnego frontendu do naszej Kafki, zainstalowaliśmy i przetestowaliśmy szereg dostępnych w sieci darmowych aplikacji. Niestety żadna z nich nie spełniła wszystkich wyspecyfikowanych wymagań. Nie pozostało nam zatem nic innego, jak przygotować własne narzędzie. Tak oto powstał Kafka Companion. Uważni czytelnicy naszego bloga zauważą pewnie, że nie jest to pierwszy Companion, który powstał w naszej firmie. Podobne pobudki doprowadziły chociażby do implementacji SQCompaniona, o którym pisał Grzegorz Lipecki w artykule <a href="/2018/02/22/monitorowanie-zespolowych-trendow-jakosci-kodu.html">Monitorowanie zespołowych trendów jakości kodu</a></p>

<h2 id="podstawowe-funkcjonalności">Podstawowe funkcjonalności</h2>
<p>Aplikacja podzielona jest na trzy moduły dostarczające istotnych funkcjonalności podczas codziennej pracy developerskiej z Kafką.</p>

<h3 id="podgląd-kondycji-klastra">Podgląd kondycji klastra</h3>
<p>Ekranem, od którego należałoby rozpocząć, jest lista wszystkich węzłów w klastrze. Znając topologię możemy upewnić się, czy węzły klastra są żywe oraz jakie mają identyfikatory.
<img src="/assets/img/posts/2019-10-03-kafka-companion/2019-10-03-kafka-companion_brokers.png" alt="2019-10-03-kafka-companion_brokers.png" /></p>

<h3 id="podgląd-i-dodawanie-wiadomości-do-topiku">Podgląd i dodawanie wiadomości do topiku</h3>
<p>Możliwość podglądania stanu kolejek oraz dodawania nowych wiadomości jest niezwykle istotna podczas rozwijania oraz testowania systemu. W naszym rozwiązaniu wszystkie wiadomości są JSONami, więc dodatkowo widok wiadomości próbuje rozłożyć je do postaci tabeli tak, aby można było przejrzyście zaprezentować stan topiku.  Prezentowane są także metadane związane z numerem partycji oraz offsetem wiadomości.
<img src="/assets/img/posts/2019-10-03-kafka-companion/2019-10-03-kafka-companion_messages_list.png" alt="2019-10-03-kafka-companion_messages_list.png" /></p>

<p>W każdej chwili możemy zarzucić topik dowolną liczbą wiadomości. Wprowadziliśmy także placeholdery pozwalające na różnicowanie wiadomości dodawanych w jednej serii.
<img src="/assets/img/posts/2019-10-03-kafka-companion/2019-10-03-kafka-companion_messages_new.png" alt="2019-10-03-kafka-companion_messages_new.png" /></p>

<h3 id="podgląd-stanu-grup-konsumentów">Podgląd stanu grup konsumentów</h3>
<p>Ostatnim ekranem jest podgląd grup konsumentów.
<img src="/assets/img/posts/2019-10-03-kafka-companion/2019-10-03-kafka-companion_consumers_list.png" alt="2019-10-03-kafka-companion_consumers_list.png" /></p>

<p>Dowiadujemy się z niego kto konsumuje wiadomości z topików oraz, co bardzo ważne, czy wiadomości są konsumowane na bieżąco. 
<img src="/assets/img/posts/2019-10-03-kafka-companion/2019-10-03-kafka-companion_consumers_details.png" alt="2019-10-03-kafka-companion_consumers_details.png" /></p>

<h2 id="podsumowanie">Podsumowanie</h2>
<p>Kafka Companion jest darmowy i dostępny na naszym <a href="https://github.com/Consdata/kafka-companion">Githubie</a>. Zachęcam do pobrania, testowania i zgłaszania uwag.</p>

<h2 id="zaproszenie-na-4developers">Zaproszenie na 4developers</h2>
<p>Jeżeli zainteresowała was tematyka poruszana w tym artykule to serdecznie zapraszam na moje wystąpienie na 4Developers, gdzie wykorzystam Kafka Companiona podczas mojej prezentacji. Wielkopolska edycja 4Developers odbędzie się 18.11. Ścieżki tematyczne, jakie pojawią się w Poznaniu, to: .NET, Architektury Aplikacji, Java, JavaScript</p>

<p><a href="https://evenea.pl/event/4developerspoznan2019/">Tutaj zdobędziecie bilety</a></p>
:ET