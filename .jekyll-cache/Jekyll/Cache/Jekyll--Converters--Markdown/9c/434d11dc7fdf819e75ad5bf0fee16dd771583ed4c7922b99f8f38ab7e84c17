I"-º<p>TworzƒÖc komponenty w Angularze mamy mo≈ºliwo≈õƒá zarzƒÖdzania kapsu≈Çkowaniem (enkapsulacjƒÖ) styl√≥w - czyli tym jak style z jednego komponentu wp≈ÇywajƒÖ na inne komponenty.<br />
Zanim om√≥wimy kapsu≈Çkowanie, wyja≈õnijmy w kilku s≈Çowach czym jest <strong>Shadow DOM</strong>.</p>

<h2 id="shadow-dom">Shadow DOM</h2>

<p>Shadow DOM wprowadza kapsu≈Çkowanie do DOM-u. Pozwala to odseparowaƒá styl i kod potrzebny do wy≈õwietlenia elementu od dokumentu, w kt√≥rym siƒô znajduje. Przyk≈Çadem mo≈ºe byƒá np. element HTML <code class="language-plaintext highlighter-rouge">&lt;video&gt;</code></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;video</span> <span class="na">width=</span><span class="s">"320"</span> <span class="na">height=</span><span class="s">"240"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"movie.mp4"</span> <span class="na">type=</span><span class="s">"video/mp4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"movie.ogg"</span> <span class="na">type=</span><span class="s">"video/ogg"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/video&gt;</span>
</code></pre></div></div>

<p>Po w≈ÇƒÖczeniu opcji wy≈õwietlania Shadow Root w przeglƒÖdarce (na przyk≈Çadzie Google Chrome):<br />
<img src="/assets/img/posts/2019-08-22-view-encapsulation-w-angularze/devtools_config_shadow_dom.jpg" alt="Devtools Configuration" />
<span class="img-legend">DevTools &gt; Settings &gt; Preferences &gt; Elements</span></p>

<p>mo≈ºemy zobaczyƒá z czego tak naprawdƒô sk≈Çada siƒô element <code class="language-plaintext highlighter-rouge">&lt;video&gt;</code>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;video</span> <span class="na">width=</span><span class="s">"320"</span> <span class="na">height=</span><span class="s">"240"</span><span class="nt">&gt;</span>
    #shadow-root
        <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls"</span> <span class="na">class=</span><span class="s">"sizing-small phase-ready state-stopped"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-loading-panel"</span> <span class="na">aria-label=</span><span class="s">"buforowanie"</span> <span class="na">aria-live=</span><span class="s">"polite"</span>
                <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-overlay-enclosure"</span><span class="nt">&gt;&lt;input</span>
                    <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overlay-cast-button"</span> <span class="na">type=</span><span class="s">"button"</span>
                    <span class="na">aria-label=</span><span class="s">"odtwarzanie na urzƒÖdzeniu zdalnym"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-enclosure"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-panel"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-scrubbing-message"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;/div&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-button-panel"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span>
                            <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-play-button"</span> <span class="na">aria-label=</span><span class="s">"odtw√≥rz"</span> <span class="na">class=</span><span class="s">"pause"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">aria-label=</span><span class="s">"up≈Çynƒô≈Ço: 0:00"</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-current-time-display"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>0:00
                        <span class="nt">&lt;/div&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">aria-label=</span><span class="s">"pozosta≈Ço: / 0:12"</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-time-remaining-display"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                            /
                            0:12<span class="nt">&lt;/div&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-button-spacer"</span><span class="nt">&gt;&lt;/div&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-volume-control-container"</span> <span class="na">class=</span><span class="s">"closed"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-volume-control-hover-background"</span><span class="nt">&gt;&lt;/div&gt;&lt;input</span> <span class="na">type=</span><span class="s">"range"</span>
                                <span class="na">step=</span><span class="s">"any"</span> <span class="na">max=</span><span class="s">"1"</span> <span class="na">aria-valuemax=</span><span class="s">"100"</span> <span class="na">aria-valuemin=</span><span class="s">"0"</span> <span class="na">aria-label=</span><span class="s">"volume"</span>
                                <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-volume-slider"</span> <span class="na">aria-valuenow=</span><span class="s">"100"</span> <span class="na">class=</span><span class="s">"closed"</span>
                                <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-mute-button"</span>
                                <span class="na">aria-label=</span><span class="s">"wyciszenie"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;/div&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">role=</span><span class="s">"button"</span> <span class="na">aria-label=</span><span class="s">"w≈ÇƒÖcz tryb obrazu w&amp;nbsp;obrazie"</span>
                            <span class="na">pseudo=</span><span class="s">"-internal-media-controls-picture-in-picture-button"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;input</span>
                            <span class="na">type=</span><span class="s">"button"</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-fullscreen-button"</span>
                            <span class="na">aria-label=</span><span class="s">"przejd≈∫ do pe≈Çnego ekranu"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span>
                            <span class="na">aria-label=</span><span class="s">"poka≈º wiƒôcej opcji sterowania multimediami"</span> <span class="na">title=</span><span class="s">"wiƒôcej opcji"</span>
                            <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-button"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;/div&gt;&lt;input</span> <span class="na">type=</span><span class="s">"range"</span> <span class="na">step=</span><span class="s">"any"</span> <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-timeline"</span> <span class="na">max=</span><span class="s">"12.612"</span>
                        <span class="na">aria-label=</span><span class="s">"pasek czasu odtwarzania filmu 0:00 / 0:12"</span> <span class="na">aria-valuetext=</span><span class="s">"up≈Çynƒô≈Ço: 0:00"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">role=</span><span class="s">"menu"</span> <span class="na">aria-label=</span><span class="s">"Opcje"</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-text-track-list"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list"</span> <span class="na">role=</span><span class="s">"menu"</span> <span class="na">class=</span><span class="s">"closed"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">" Odtw√≥rz "</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span>
                        <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-play-button"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">aria-label=</span><span class="s">"odtw√≥rz"</span> <span class="na">class=</span><span class="s">"pause"</span>
                        <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Odtw√≥rz<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">"przejd≈∫ do pe≈Çnego ekranu Pe≈Çny ekran "</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span>
                        <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-fullscreen-button"</span> <span class="na">aria-label=</span><span class="s">"przejd≈∫ do pe≈Çnego ekranu"</span>
                        <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Pe≈Çny ekran<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">"pobierz multimedia Pobierz "</span> <span class="na">class=</span><span class="s">"animated-1"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span>
                        <span class="na">aria-label=</span><span class="s">"pobierz multimedia"</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-download-button"</span> <span class="na">tabindex=</span><span class="s">"-1"</span>
                        <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Pobierz<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">" Wycisz "</span> <span class="na">class=</span><span class="s">"animated-2"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;input</span> <span class="na">type=</span><span class="s">"button"</span>
                        <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-mute-button"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">aria-label=</span><span class="s">"wyciszenie"</span>
                        <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Wycisz<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">"odtwarzanie na urzƒÖdzeniu zdalnym Przesy≈Çaj "</span> <span class="na">class=</span><span class="s">"animated-1"</span>
                    <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;input</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-cast-button"</span> <span class="na">type=</span><span class="s">"button"</span>
                        <span class="na">aria-label=</span><span class="s">"odtwarzanie na urzƒÖdzeniu zdalnym"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Przesy≈Çaj<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">"wy≈õwietlanie menu napis√≥w Napisy "</span> <span class="na">class=</span><span class="s">"animated-0"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;&lt;input</span>
                        <span class="na">aria-label=</span><span class="s">"wy≈õwietlanie menu napis√≥w"</span> <span class="na">type=</span><span class="s">"button"</span>
                        <span class="na">pseudo=</span><span class="s">"-webkit-media-controls-toggle-closed-captions-button"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Napisy<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;label</span> <span class="na">pseudo=</span><span class="s">"-internal-media-controls-overflow-menu-list-item"</span> <span class="na">role=</span><span class="s">"menuitem"</span> <span class="na">tabindex=</span><span class="s">"0"</span>
                    <span class="na">aria-label=</span><span class="s">"w≈ÇƒÖcz tryb obrazu w&amp;nbsp;obrazie Obraz w&amp;nbsp;obrazie "</span> <span class="na">class=</span><span class="s">"animated-0"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;&lt;input</span>
                        <span class="na">type=</span><span class="s">"button"</span> <span class="na">role=</span><span class="s">"button"</span> <span class="na">aria-label=</span><span class="s">"w≈ÇƒÖcz tryb obrazu w&amp;nbsp;obrazie"</span>
                        <span class="na">pseudo=</span><span class="s">"-internal-media-controls-picture-in-picture-button"</span> <span class="na">tabindex=</span><span class="s">"-1"</span> <span class="na">style=</span><span class="s">""</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;&lt;span&gt;</span>Obraz w<span class="ni">&amp;nbsp;</span>obrazie<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
                <span class="nt">&lt;/label&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"movie.mp4"</span> <span class="na">type=</span><span class="s">"video/mp4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"movie.ogg"</span> <span class="na">type=</span><span class="s">"video/ogg"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/video&gt;</span>
</code></pre></div></div>

<p>Shadow DOM ukrywa ca≈ÇƒÖ implementacjƒô pod prostym tagiem.<br />
Dziƒôki temu style zaaplikowane do naszego elementu nie wp≈ÇywajƒÖ na inne elementy DOM-u.</p>

<p><img src="/assets/img/posts/2019-08-22-view-encapsulation-w-angularze/shadow-dom-browser-support.png" alt="Shadow DOM browser support" />
<span class="img-legend">Wsparcie Shadow DOM przez g≈Ç√≥wne przeglƒÖdarki<br />≈∫r√≥d≈Ço: <a href="https://www.webcomponents.org">www.webcomponents.org</a> - dostƒôp: 2019-08-20</span></p>

<h2 id="view-encapsulation-w-angularze">View Encapsulation w Angularze</h2>

<p>Domy≈õlnie Angular korzysta z w≈Çasnego kapsu≈Çkowania styl√≥w (<code class="language-plaintext highlighter-rouge">ViewEncapsulation.Emulated</code>), ale udostƒôpnia jeszcze 3 inne tryby kapsu≈Çkowania (w tym jeden deprecated).</p>

<p>Aby zmieniƒá domy≈õlny tryb kapsu≈Çkowania, wystarczy dodaƒá odpowiedniƒÖ opcjƒô w dekoratorze <code class="language-plaintext highlighter-rouge">@Component</code>, np.:<br />
<code class="language-plaintext highlighter-rouge">encapsulation: ViewEncapsulation.ShadowDom</code></p>

<p>Om√≥wimy je na przyk≈Çadzie kodu z projektu demo. <a href="https://github.com/Michuu93/view-encapsulation-demo">Link do repozytorium</a></p>

<p>Projekt demo sk≈Çada siƒô z 4 komponent√≥w:</p>

<ul>
  <li><a href="https://github.com/Michuu93/view-encapsulation-demo/blob/master/src/app/app.component.ts"><code class="language-plaintext highlighter-rouge">app-root</code></a> - g≈Ç√≥wny komponent zawierajƒÖcy w sobie pozosta≈Çe komponenty</li>
  <li><a href="https://github.com/Michuu93/view-encapsulation-demo/blob/master/src/app/red-module/red.component.ts"><code class="language-plaintext highlighter-rouge">app-red</code></a></li>
  <li><a href="https://github.com/Michuu93/view-encapsulation-demo/blob/master/src/app/green-module/green.component.ts"><code class="language-plaintext highlighter-rouge">app-green</code></a></li>
  <li><a href="https://github.com/Michuu93/view-encapsulation-demo/blob/master/src/app/blue-module/blue.component.ts"><code class="language-plaintext highlighter-rouge">app-blue</code></a></li>
</ul>

<p>Ka≈ºdy z komponent√≥w <code class="language-plaintext highlighter-rouge">app-red</code>, <code class="language-plaintext highlighter-rouge">app-green</code> oraz <code class="language-plaintext highlighter-rouge">app-blue</code> sk≈Çada siƒô z jednego paragrafu z odpowiednim kolorem tekstu dla tego elementu. Opr√≥cz tego istniejƒÖ 3 branche, po jednym dla ka≈ºdego z omawianych tryb√≥w, co pozwoli na zobrazowanie nak≈Çadania siƒô oraz kapsu≈Çkowania styl√≥w.</p>

<h3 id="viewencapsulationnone">ViewEncapsulation.None</h3>

<p>Brak kapsu≈Çkowania, czyli style utworzone w komponencie sƒÖ globalne (w sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code>).<br />
W tym trybie elementy HTML i odpowiadajƒÖce im selektory CSS wyglƒÖdajƒÖ tak samo jak te, kt√≥re napisali≈õmy w kodzie.<br />
Mo≈ºe to spowodowaƒá niechciane nadpisywanie styl√≥w lub dodawanie ich do element√≥w, kt√≥re nie posiadajƒÖ ≈ºadnego stylu.</p>

<p>W przyk≈Çadzie usunƒôli≈õmy styl paragrafu w komponencie <code class="language-plaintext highlighter-rouge">app-green</code>.<br />
<a href="https://github.com/Michuu93/view-encapsulation-demo/tree/ViewEncapsulation.None">Link do repozytorium</a></p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">ViewEncapsulation</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-red</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Red paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">styles</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="err">
        p {
            color: red;
        }
    </span><span class="s2">`</span><span class="p">],</span>
    <span class="na">encapsulation</span><span class="p">:</span> <span class="nx">ViewEncapsulation</span><span class="p">.</span><span class="nx">None</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">RedComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">ViewEncapsulation</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-green</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Green paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">encapsulation</span><span class="p">:</span> <span class="nx">ViewEncapsulation</span><span class="p">.</span><span class="nx">None</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">GreenComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">ViewEncapsulation</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-blue</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Blue paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">styles</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="err">
        p {
            color: blue;
        }
    </span><span class="s2">`</span><span class="p">],</span>
    <span class="na">encapsulation</span><span class="p">:</span> <span class="nx">ViewEncapsulation</span><span class="p">.</span><span class="nx">None</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">BlueComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Wynikowy kod HTML:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;style&gt;</span>
        <span class="nt">p</span> <span class="p">{</span>
            <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
    <span class="nt">&lt;style&gt;</span>
        <span class="nt">p</span> <span class="p">{</span>
            <span class="nl">color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;app-root</span> <span class="na">ng-version=</span><span class="s">"8.2.2"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;app-red&gt;</span>
            <span class="nt">&lt;p&gt;</span>Red paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-red&gt;</span>
        <span class="nt">&lt;app-green&gt;</span>
            <span class="nt">&lt;p&gt;</span>Green paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-green&gt;</span>
        <span class="nt">&lt;app-blue&gt;</span>
            <span class="nt">&lt;p&gt;</span>Blue paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-blue&gt;</span>
    <span class="nt">&lt;/app-root&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<p><img src="/assets/img/posts/2019-08-22-view-encapsulation-w-angularze/view_encapsulation_none_result.jpg" alt="ViewEncapsulation.None" />
<span class="img-legend">Wynik widoczny w przeglƒÖdarce</span></p>

<p>Jak widzimy, style zosta≈Çy dodane w sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code>, co spowodowa≈Ço nadpisanie pierwszego stylu paragrafu drugim - <code class="language-plaintext highlighter-rouge">color: blue</code>. W efekcie wszystkie paragrafy majƒÖ ten sam kolor, r√≥wnie≈º paragraf z komponentu <code class="language-plaintext highlighter-rouge">app-green</code>, kt√≥ry nie posiada ≈ºadnego stylu i powinien mieƒá kolor domy≈õlny.</p>

<h3 id="viewencapsulationemulated-default">ViewEncapsulation.Emulated (default)</h3>

<p>Domy≈õlny tryb kapsu≈Çkowania w Angularze, w kt√≥rym style sƒÖ domkniƒôte w komponencie.<br />
W tym trybie style r√≥wnie≈º znajdujƒÖ siƒô w sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code>, ale posiadajƒÖ dodatkowe atrybuty kt√≥re wiƒÖ≈ºƒÖ je z elementami HTML pochodzƒÖcymi z tego samego komponentu.<br />
Dziƒôki temu na stronie mo≈ºe istnieƒá kilka komponent√≥w zawierajƒÖcych element tego samego typu, ale z r√≥≈ºnymi stylami.</p>

<p><strong>Uwaga!</strong> W tym trybie style nie majƒÖ wp≈Çywu na inne elementy na stronie (jednak mogƒÖ mieƒá wp≈Çyw na elementy komponentu dziecka - je≈õli komponent dziecka posiada tryb kapsu≈Çkowania inny ni≈º Shadow DOM), poniewa≈º sƒÖ domkniƒôte unikalnymi atrybutami. Globalne style strony (oraz style innych komponent√≥w, kt√≥re majƒÖ wy≈ÇƒÖczony tryb kapsu≈Çkowania) mogƒÖ jednak mieƒá wp≈Çyw na ten komponent.</p>

<p>W przyk≈Çadzie przenie≈õli≈õmy komponent <code class="language-plaintext highlighter-rouge">app-green</code> z komponentu <code class="language-plaintext highlighter-rouge">app-root</code> do komponentu <code class="language-plaintext highlighter-rouge">app-blue</code> i usunƒôli≈õmy jego style.<br />
<a href="https://github.com/Michuu93/view-encapsulation-demo/tree/ViewEncapsulation.Emulated">Link do repozytorium</a></p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-red</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Red paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">styles</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="err">
        p {
            color: red;
        }
    </span><span class="s2">`</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">RedComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-green</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Green paragraph!&lt;/p&gt;
    </span><span class="s2">`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">GreenComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-blue</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;app-green&gt;&lt;/app-green&gt;
        &lt;p&gt;Blue paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">styles</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="err">
        p {
            color: blue;
        }
    </span><span class="s2">`</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">BlueComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Wynikowy kod HTML:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;style&gt;</span>
        <span class="nt">p</span><span class="o">[</span><span class="nt">_ngcontent-pes-c0</span><span class="o">]</span> <span class="p">{</span>
            <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
    <span class="nt">&lt;style&gt;</span>
        <span class="nt">p</span><span class="o">[</span><span class="nt">_ngcontent-pes-c1</span><span class="o">]</span> <span class="p">{</span>
            <span class="nl">color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;app-root</span> <span class="na">ng-version=</span><span class="s">"8.2.2"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;app-red</span> <span class="na">_nghost-pes-c0</span><span class="nt">&gt;</span>
            <span class="nt">&lt;p</span> <span class="na">_ngcontent-pes-c0</span><span class="nt">&gt;</span>Red paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-red&gt;</span>
        <span class="nt">&lt;app-blue</span> <span class="na">_nghost-pes-c1</span><span class="nt">&gt;</span>
            <span class="nt">&lt;app-green</span> <span class="na">_ngcontent-pes-c1</span><span class="nt">&gt;</span>
                <span class="nt">&lt;p&gt;</span>Green paragraph!<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/app-green&gt;</span>
            <span class="nt">&lt;p</span> <span class="na">_ngcontent-pes-c1</span><span class="nt">&gt;</span>Blue paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-blue&gt;</span>
    <span class="nt">&lt;/app-root&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<p><img src="/assets/img/posts/2019-08-22-view-encapsulation-w-angularze/view_encapsulation_emulated_result.jpg" alt="ViewEncapsulation.Emulated" />
<span class="img-legend">Wynik widoczny w przeglƒÖdarce</span></p>

<p>Domy≈õlny tryb pozwoli≈Ç nam odseparowaƒá style miƒôdzy poszczeg√≥lnymi komponentami. W kodzie wynikowym widzimy, ≈ºe style z komponentu rodzica <code class="language-plaintext highlighter-rouge">app-blue</code> nie zosta≈Çy zaaplikowane do komponentu dziecka <code class="language-plaintext highlighter-rouge">app-green</code>, w efekcie czego paragraf ma kolor domy≈õlny. Sta≈Ço siƒô tak, poniewa≈º Angular doda≈Ç atrybut do stylu. Gdyby≈õmy dodali styl w runtime, to zosta≈Çby zaaplikowany r√≥wnie≈º do komponentu dziecka.</p>

<p>Na przyk≈Çadzie komponentu <code class="language-plaintext highlighter-rouge">app-red</code> - Angular doda≈Ç atrybut <code class="language-plaintext highlighter-rouge">_ngcontent-pes-c0</code> do selektora CSS oraz elementu HTML. W ten spos√≥b style dodane w sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code> aplikujƒÖ siƒô tylko do odpowiednich element√≥w z tego samego komponentu. Opr√≥cz tego, na komponencie dodany zosta≈Ç atrybut <code class="language-plaintext highlighter-rouge">_nghost-pes-c0</code>. Z czego sk≈ÇadajƒÖ siƒô te atrybuty?</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">_ngcontent</code> - okre≈õla typ elementu, w tym przypadku zawarto≈õƒá komponentu</li>
  <li><code class="language-plaintext highlighter-rouge">_nghost</code> - okre≈õla element <code class="language-plaintext highlighter-rouge">root</code> komponentu</li>
  <li><code class="language-plaintext highlighter-rouge">-pes</code> - oznacza ID aplikacji (<a href="https://angular.io/api/core/APP_ID">APP_ID</a>), je≈õli nie zosta≈Ç ustawiony to zostanie przyjƒôty wygenerowany ciƒÖg znak√≥w - dziƒôki temu nie nak≈ÇadajƒÖ siƒô style miƒôdzy r√≥≈ºnymi aplikacjami wy≈õwietlanymi w jednym oknie</li>
  <li><code class="language-plaintext highlighter-rouge">-c0</code> - numeruje kolejno elementy w komponencie</li>
</ul>

<h3 id="viewencapsulationshadowdom">ViewEncapsulation.ShadowDom</h3>

<p>Kapsu≈Çkowanie oparte na Shadow DOM (wymaga wsparcia przeglƒÖdarki dla Shadow DOM).
W tym trybie style nie sƒÖ dodawane w sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code>, a istniejƒÖ w <strong>Shadow Root</strong>.</p>

<p><strong>Uwaga!</strong> W tym trybie style nie majƒÖ wp≈Çywu na inne elementy na stronie (jednak mogƒÖ mieƒá wp≈Çyw na elementy komponentu dziecka - je≈õli komponent dziecka posiada tryb kapsu≈Çkowania inny ni≈º Shadow DOM). Globalne style strony (oraz style innych komponent√≥w) r√≥wnie≈º nie majƒÖ wp≈Çywu na ten komponent.</p>

<p>W przyk≈Çadzie przenie≈õli≈õmy komponent <code class="language-plaintext highlighter-rouge">app-green</code> z komponentu <code class="language-plaintext highlighter-rouge">app-root</code> do komponentu <code class="language-plaintext highlighter-rouge">app-blue</code>, usunƒôli≈õmy jego style i ustawili≈õmy domy≈õlny tryb kapsu≈Çkowania.<br />
<a href="https://github.com/Michuu93/view-encapsulation-demo/tree/ViewEncapsulation.ShadowDom">Link do repozytorium</a></p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">ViewEncapsulation</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-red</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Red paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">styles</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="err">
        p {
            color: red;
        }
    </span><span class="s2">`</span><span class="p">],</span>
    <span class="na">encapsulation</span><span class="p">:</span> <span class="nx">ViewEncapsulation</span><span class="p">.</span><span class="nx">ShadowDom</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">RedComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-green</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;p&gt;Green paragraph!&lt;/p&gt;
    </span><span class="s2">`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">GreenComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">ViewEncapsulation</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
    <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-blue</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="s2">`</span><span class="err">
        &lt;app-green&gt;&lt;/app-green&gt;
        &lt;p&gt;Blue paragraph!&lt;/p&gt;
    </span><span class="s2">`</span><span class="p">,</span>
    <span class="na">styles</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="err">
        p {
            color: blue;
        }
    </span><span class="s2">`</span><span class="p">],</span>
    <span class="na">encapsulation</span><span class="p">:</span> <span class="nx">ViewEncapsulation</span><span class="p">.</span><span class="nx">ShadowDom</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">BlueComponent</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Wynikowy kod HTML:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;app-root</span> <span class="na">ng-version=</span><span class="s">"8.2.2"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;app-red&gt;</span>
            #shadow-root
            <span class="nt">&lt;style&gt;</span>
                <span class="nt">p</span> <span class="p">{</span>
                    <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="nt">&lt;/style&gt;</span>
            <span class="nt">&lt;p&gt;</span>Red paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-red&gt;</span>
        <span class="nt">&lt;app-blue&gt;</span>
            #shadow-root
            <span class="nt">&lt;style&gt;</span>
                <span class="nt">p</span> <span class="p">{</span>
                    <span class="nl">color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="nt">&lt;/style&gt;</span>
            <span class="nt">&lt;app-green&gt;</span>
                <span class="nt">&lt;p&gt;</span>Green paragraph!<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/app-green&gt;</span>
            <span class="nt">&lt;p&gt;</span>Blue paragraph!<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/app-blue&gt;</span>
    <span class="nt">&lt;/app-root&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<p><img src="/assets/img/posts/2019-08-22-view-encapsulation-w-angularze/view_encapsulation_shadow_dom_result.jpg" alt="ViewEncapsulation.ShadowDom" />
<span class="img-legend">Wynik widoczny w przeglƒÖdarce</span></p>

<p>Tryb Shadow DOM r√≥wnie≈º pozwoli≈Ç nam odseparowaƒá style miƒôdzy poszczeg√≥lnymi komponentami. W sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code> nie ma ju≈º ≈ºadnych styl√≥w, natomiast sƒÖ ukryte w Shadow Root element√≥w DOM-u. Na przyk≈Çadzie widzimy, ≈ºe style z komponentu rodzica <code class="language-plaintext highlighter-rouge">app-blue</code> zosta≈Çy zaaplikowane do komponentu dziecka <code class="language-plaintext highlighter-rouge">app-green</code>, w efekcie czego paragraf ma kolor niebieski. Gdyby komponent <code class="language-plaintext highlighter-rouge">app-green</code> r√≥wnie≈º posiada≈Ç tryb <code class="language-plaintext highlighter-rouge">ViewEncapsulation.ShadowDom</code>, to style rodzica nie zosta≈Çyby zaaplikowane, poniewa≈º korzysta≈Çby ze styl√≥w z w≈Çasnego Shadow Root. Tryb Shadow DOM zabezpiecza nasz komponent r√≥wnie≈º przed stylami z komponentu rodzica, dodanymi w runtime.</p>

<h3 id="viewencapsulationnative"><del>ViewEncapsulation.Native</del></h3>

<p>Do niedawna zamiast <code class="language-plaintext highlighter-rouge">ViewEncapsulation.ShadowDom</code> dostƒôpny by≈Ç tryb <code class="language-plaintext highlighter-rouge">ViewEncapsulation.Native</code>.<br />
Dzia≈Ça≈Ç on w podobny spos√≥b, ale zosta≈Ç wycofany z powodu wykorzystywania przestarza≈Çego standardu Shadow DOM.</p>

<h2 id="podsumowanie">Podsumowanie</h2>

<p>Og√≥lnie rzecz biorƒÖc, powinni≈õmy unikaƒá braku kapsu≈Çkowania styl√≥w, poniewa≈º powoduje to czƒôsto niechciane efekty.<br />
Tryb Shadow DOM zapewnia ca≈Çkowite domkniƒôcie styl√≥w w komponencie, dziƒôki czemu style globalne oraz inne komponenty nie majƒÖ na niego wp≈Çywu, tak samo jak komponent w tym trybie nie ma wp≈Çywu na inne komponenty na stronie (za wyjƒÖtkiem komponent√≥w dzieci kt√≥re majƒÖ w≈ÇƒÖczony tryb kapsu≈Çkowania inny ni≈º Shadow DOM).</p>

<p>Niestety nie wszystkie przeglƒÖdarki mogƒÖ wspieraƒá ten tryb, dlatego Angular domy≈õlnie udostƒôpni≈Ç w≈Çasny, emulowany tryb kapsu≈Çkowania. W trybie domy≈õlnym na nasz komponent majƒÖ jednak wp≈Çyw style globalne, a tak≈ºe mogƒÖ mieƒá wp≈Çyw inne komponenty, poniewa≈º komponent w tym trybie nadal wykorzystuje style z sekcji <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code>. W wiƒôkszo≈õci przypadk√≥w tryb domy≈õlny jest wystarczajƒÖcy, wiƒôc je≈õli zale≈ºy nam na jak najlepszym wsparciu przeglƒÖdarek i nie mamy problem√≥w z nadpisywaniem styl√≥w przez inne komponenty lub aplikacje, to mo≈ºemy z powodzeniem z niego korzystaƒá.</p>

<p>Musimy jednak pamiƒôtaƒá, ≈ºe mieszanie r√≥≈ºnych tryb√≥w kapsu≈Çkowania miƒôdzy komponentami r√≥wnie≈º mo≈ºe spowodowaƒá niezamierzone efekty.</p>
:ET